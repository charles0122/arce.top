{
    "version": "https://jsonfeed.org/version/1",
    "title": "白日梦想家",
    "home_page_url": "https://arce.top/arcetop/blog",
    "items": [
        {
            "id": "https://arce.top/arcetop/blog/unity-editor-auto-load-entry-scene",
            "content_html": "<p><img decoding=\"async\" loading=\"lazy\" alt=\"unity open-project1场景管理\" src=\"https://arce.top/arcetop/assets/images/image-20240421001329682-1b8d3076d527172eb101591d2ad87243.png\" width=\"2140\" height=\"1201\" class=\"img_XhWh\"></p>\n<div class=\"theme-admonition theme-admonition-note admonition_HIgT alert alert--secondary\"><div class=\"admonitionHeading_YiIM\"><span class=\"admonitionIcon_flvz\"><svg viewBox=\"0 0 14 16\"><path fill-rule=\"evenodd\" d=\"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z\"></path></svg></span>笔记</div><div class=\"admonitionContent_euFF\"><p>适用场景：适用于场景较多，启动较复杂的项目</p><p>最佳实践：有一个游戏入口场景做初始化</p></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"场景启动器\">场景启动器<a href=\"https://arce.top/arcetop/blog/unity-editor-auto-load-entry-scene#%E5%9C%BA%E6%99%AF%E5%90%AF%E5%8A%A8%E5%99%A8\" class=\"hash-link\" aria-label=\"场景启动器的直接链接\" title=\"场景启动器的直接链接\">​</a></h2>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"编辑器效果\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmMAAADnCAYAAABSdlGaAAAgAElEQVR4nO3dX2xb55nn8Z9k2VQs28lYiTRU2tRkmsCNp0IhLoi2k52Ol3IWC2iQqx1rscICMUDBvcpFUAO6MnRFwIUvcrM1xIWDAdRdCXuxCCJgMbG4nulsgYIphYEKt3baIT3ZhIyUyKllq5EsWdyLo0ORFPnyUCR1RPL7AQLEfI4O33N4/jx83+e87HjpzLezquCv//pH+rv3/pskKf7Rr/Uf//Y/VfoToA10VIhXPLVqXD/2o9ZP5TBqhSOlFT8XwKkOJ8kYgFJIxppRK17wWuFIacXPBXCq0+0GAAAAtDOSMQAAABeRjAEAALiIZAwAAMBFJGMAAAAu6jr93AmdOnXK7XYcGqurq243AQAAtBF6xgAAAFxEMgYAAOAikjEAAAAXkYwBAAC4iGQMAADARSRjAAAALuqqZuF+Se+8c0Hqv2Bc7taSdOv6dUlLNTStvLFBaXDsmq5ML0qL0w15DyduhIekwLguTyWkhWhBzCvp6tURZbwjmpyckzJzBfERrzRy9aqmEl4tRC/r6ohX3pGrmpzLKDM3Wdd2Ws28UbKdzcjed9ZuLb2vrloLldz3lbTa/gIAHG5VJWNLkq5cvyXplqTd5Gyx/4Kmr0xLWqx7Aw+zRGJBgYDkHRhQZqEw5pUkr1deSd5AQJm5woQgEPBK8mohkTig1gIAgMOoqmQMhRILUkAJBQIBzc15JWVyscCQlFFA3kxGXq83L2LJvZaxIpNzGWnu8kE1HQAAHBLUjNXATqasTq5AQSwQGFIiIymdUCAgSUO52JC1gBXP0DMGAEA7O5CesWtWkVfu34tS2WHNapYt9s6FfvVfeCf370bXlFm5VELekRHJ6811jHklaWBA6bSUSMxpIDAieQdkj2UOWAsonbbXUrpOya4juzyV0I1AQgqM5967XD2TXcdmm5zLSOnyNWjFyyckRS9PSVrIxTOB8YLaq3L1cEOSxm+ENZUIaCF6eHv5Su2jSnV69uczOZfRSHpSgfEbuVjxPgMAoBoNTcYGJY1dG9OiBnMJlV1n9s61MV2/fktaulX1sqVcGxvU0uCYVdO2dEv9ki6MXdCtxX416kECSUokMhoZyWgoENDCTnJk95QtfJDQQEYKKFNQN+a1Csoc14vdGA/o8pSk6OVcInR1fESTk5mKCZKVTF3ds047cUookEsk7HUM3NhNvnJ1cXntt7fProuzk1A7ycxkigdlDwd7m+cyAc1dnpSUUXhIujp+Q1PeG44SyKsjXs1lbujyzt/b68zfZwAAVKOhw5RjY4Na0qCmr9+S3bO1JGn6+i31a1EXxi7IegygumWLDUrS4KBuLSqXsC1JujV9S41MxCQpnZGktAYGpJ0+MQUCXmXklTKZ3FCk18rAduJDSkjSgrNkbCqhXC9YRtLc1Jy8ymhoZCS3zPiIV/KOaHIqUZAQXI4uyJv+YM86x8NDyiig6OSc7B6djKSpyTl5ldDI+IgkrxILklTYfiv/srZvKLA7PGtvd+aAHkq4OuLVjRs3Sv7nHdmbgI6Hh5RQQHOTU7IzyOiCpMSU/iYgyTuy52+KzWWkucnJ3N8vSJqbjO75PAAAcKphyVipBMm2KEmLixrsl9Q/WNWyxvcczL3zgbFylURB3ZjX680lYVauls7VjdlDmFbnkbMepOIeNDsBtNlPbM5lJC3s7ZlJJAqHz+yatQ8S2tOTU7w9uX/n1b3Z9XCZxAcFr+dv90GYnMvo8uXLJf8rHnbM1elZWXBBLJPJ7PbyVZCwNrDwtZ1tzk/IAQBwqmHDlP39ktSvpaXSPVP5r1ezbMm4tZAG+6Vr18Z0/daSlm5d30+z98UeypPXq6GMpEBA6YRk37QTiQUNBCR5BxTQguQNKDG396ZerYEBa3DRq4zk9Ra8p/HvKgwnFr+eyWQUkBQdCmhoYcFKauYy8qYXZOUfAxrK7L5e63Y1gr3N4wFJgRsVli4vk07vfU2S0umdXLzwqVoAACppiakt7OHMsWv9kgb1zoV+6cK1A0vK7F6uoUBAA5mopIGC3qxMXt2YNz0nyatMunmeorTr4rwDAxrISBkNKJNIKJGxpvbwBgIaSMxJGiiZrBwm1nMP9X24wO7tBABgPxo2TGl1Zi2pv790nVd/f3+uR6uaZctZlHTlyrSmr1yRXXM2dqG/4q8F1EP+MJVVD+YtqAez44GAV4HASFX1YtUoN0w2MFD4mj3M6S0zLOf1eq1B0IyVWBW2f0iJjFfKJPKGML0lt/swKVXbtx/eEkmXPcRZzdAzAAC2hiVjdq3XhUHtSYjsGrFFa6GqlnXyvleuTGvp1nWr3L9MgldP9hQXAa/kDfzNnptyrm7MK2mgdN1SLUrVrdnserJSy5cqWi9VW5WbwsMreb2Bgik5MplM7vV6b1c9mfZRNexfTih4zdppJevJAACopKFPU05PL6pfixp754Lswvp+SWPvXNCiBrU4Pb2vZYsNShocGyt4rb+/P5fkHYR0ercIvGSRd2Ihrwel/jfsqeiCvEoofHVEuYJ67Ux3ob3JR7nlx6+OKKGAFqJTBcun0ztrCQQKhmATiYwCykiBwKGd0sI2N7cgrzIF2yxZc4gNhZ3VkY14paHw1YJ/B8avai4jZeamDH8JAEBpDa0ZW5R0/cq03nnngq5d202Wbi1Jt64U/pB4NcuWep+xxWmNXbtW1d/Vk/3TSFKgdJH3Tm9Zo6Z+WJA0dTmq8RtS4Ebh5LBhTco7fmPP8pOXo7p6NVOwvPWrTLtTN9js7UsosGcIdiSTUMY7cmBTWuzXXEZKX57U+I1wwTZXU0c2OZfRVe8H0o3d/dmIOjQAQPvo+N73vpc9deqU2+04NFZXV91uAg6h/Bn4K83WDwBANfhtSgAAABeRjAEAALiIZAwAAMBF1IwVoWYMAAAcJHrGAAAAXEQyBgAA4CKSMQAAABd1SYV1Ul1dXTp27Jg6OzvV2dl+uRr1cwCAUra3t7W9va3NzU1tbm663Ry0kK6lnR/f7urqUn9/v44fP+5ykwAAOHzsToquri5ls1ktLS1pa2vL7WahBeR+Dik/EdvY2ND6+joHGQAAO7q6utTd3S2Px6Pjx4+rv79fn332mdvNQgvokqQTJ07kErEHDx4om80WLNTR0XHwLQMA4BCw74lbW1t6/Pix1tbWdPr0aR0/flzPPvusHj586HIL0ew6pd06qY2NjT2JGAAA2JXNZrWxsSFJ6unpcbk1aAWdkuTxeCRJ6+vrrjYGAIBmYN8vu7u7XW4JWkGnZI2DS6JGDAAAB+z75ZEjR1xuCVpB+81dAQAAcIiQjAEAALiIZAwAAMBFXZUXaT3Pnn7BGH/44Iua1t/X+5wx/tLL3zHG//nXHxnjW9u11fZ9o8/cPu+3XjHGP/rI3D4AAOAcPWMAAAAuIhkDAABwEckYAACAi0jGAAAt480339TZs2fdbgZQFZIxAEDLGBsb082bN0nI0FRIxgAALePtt9/W6uoqCRmaSofX682+8oo1lcHKykrphTo6DrJNNXvj+68Z40+6Thjjy1vmqR96u58a4xtZjzH+Pb/5h2X/+//438b4D//qh8b4J7+NG+MnfT8wxr/MJI3xV/zfMsY//PBDYxwAGmlgYEA3b97UqVOndOnSJd29e7em9WWz2ZKv9/b2SpJ+//vf17R+gJ4xAEBLSafTunTpEj1kaBokYwCAlkNChmZCMgYAaHmrq6tuNwEoi2QMANByiuvG0um0200CyiIZAwC0lHoX8AONRjIGAGgZJGJoRiRjAICW8e6775KIoel0ud2ARvjwV79t6Pq//5f/1hiP/zJmjv9jbe9fqRD17qd/NMZ7vpw3xtfWN43x1B/uGeMA4Jbp6Wndu3ePRAxNpSWTMQBAe3r//ffdbgJQNYYpAQAAXETP2D786pf/5O77/+pXNf19pWFIAABwcOgZAwAAcBHJGAAAgItIxgAAAFxEMgYAAOAikjEAAAAXkYwBAAC4iGQMAADARSRjAAAALiIZAwAAcJGjGfiz2Wyj2wEAANCW6BkDAABwEckYAACAi0jGAAAAXEQyBgAA4CJHBfyl9Pb21rMdAAC4bmVlxe0moA3tOxnjgAUAAKgdw5QAAAAu6nr22WfdbgMAAE3l2LFjuf9/5ZVXXGwJWsG+hykBAGg3nZ2d6unpKUjGgFqRjAEA4FB+IraxsaH19XVtbW253Co0O0fJWEdHhzo6OnTs2LHc/wMA0KqePn2qzc1NZbPZ3E8CHjt2LJeIPXjwYM9PBXKvxH48ffrUeTLm8Xg4sAAAbeHIkSPq7OzUxsZGLunyeDySVPBaPu6V2I8jR444e5ry6NGjHFwAgLZi93LZurqs/ov19fWSy3OvxH45SsaOHDnS6HYAAHDo5CdXnZ3WLbNcjRj3SuwX84wBAFAGPV04CCRjAAAALiIZAwAAcBHJGAAAgItIxgAAAFxEMgYAAOCitk3G4pGQ4vG4QpG4202pKBKS4vG4/OFZt5uSY7dJoYjjvwlJiscjisfjBf9Vsw63hP1SPD67p+3xeFzh2bgkv9tNdMwvKT4bLtiGZjgPTOzzudSxZG/vbDwu+cN74vZna++D2bC/qvPNXn6/x7F9LhX/V6q9+znvgP0qdd0rdx7ls8/H4vMo/3UUastkLCRJoWFJ0nAo90rN4pGQIvF43dbXSux9Mxr1KxgM5v4bDQYVH08eqkTTZDSaKmh/MBhU9GJQUnJf6zvoYybsl2bis5pIhgu2YTw52jSfQSmx+Zgkye/fmxT7JMnnl0+Sf+e8zzcc8kvy5dZRTqM/q+JjyxebUHwm3NSfixtGRkb06quvut2MpmZ/gQnPxBWcSBYcl8mJoOIz4bJfQuORkFKhiIKjUWv56MWSr6NQWyZjdgIWi8UUkuQPj9e8Tr8klbgRoPAktE9MW1JS8OLe19vBQR8zfknhSFjRlE+xidGC2MVosqk/AyuPiik07FPxDWI4JKUUklIp+fy+PX/r8/uUkqSUlVBfjCYLbiKSO+f36ERMSkUVDvvEFzznRkdH9bOf/YyErAYzkZBSvrCCo1EpNlEQm4hJ0dGgwr6UQpGZgph9nsynJCVjFV/HrrZLxvySQuNhxSQlo/OSUiUv4KiPSEhSKKKJaEpKRt1uTluze4hakZ1MWadyYeISGg7t3ATm9/SE273kh/EmkZSUmo/xRa9KP/nJT/T48WMSsn1ycs2OJqVUdCK3LGrXdsmYNSIxrPmYFEvGpNR8yQu4ZPXolBoft8fR7eGD2bBfM/G45AsX1EUVDy/kj5fH4/GGDHk4fY9SdSrlTqridVYzbBIaDu0kvlNVbYeT9uXX6hS30V623Ov13MZq22QvZzpmcnWCoUiuvis8G1c4Ur5mw15PueEDU8JSaXtMtWWV9p3TfVLNOovZiUtxwmknMsmkFJuP7klsrP+14vZQc3FdltPzu1S7a71RlerJK6XS+VLuWiYVHzfNL5PJ6PLlyyRk++T0mj0fS8rqzLCuJfnnSdgnxeMzmo3HFYnMlnwdhdouGcuvD8m/gJeqJXHqYjSp0WBQSkUVkxQMThQMc9gXu1gokouNBoMKpaKajUcqFkM6Uc17hP3S/PBsQR2AYhOajYQKlrPrBvLH+YPBoGb8U/KPV05Wcr0OO0NITjltny0eCSk4P6xgMKiJYFBSLHdTHE2O5/aFUtE967D3W9QfUTA4qmAwqNhEUDNhX01F7fltKvXelY4ZW2Tcr9Gd9UQvBuWfD8onKRTeux/sXp/oVEylatjyj/fZmbDxuLM/e4VnCj774flg7iZf7b6rtE/2s858xTcHaffLV2w+pmRK8ilVcK5buY65XszpZxWPhPYcb/FIaN8JmdOhHSfnS2znc6983LQGErL9sa/ZSeubm3FZ63Sbz32hyT9PoikpGBzVxWBQExMXS76OQm2VjFnXZSvrV2xekjQVTUqKNbQuIxIJKaWQJkajspOSpKSJi1H5FFM4Elatw6TVvEc0KcUmCm8k0WhMPqUKLtaRsF/yhXVxIlbQXR2ciMmXrNzTZZ+k1XLaPttETLm6hpikVNRqq9XLbr2elBSdiO65GUciIcUUUvTihOwExl7fuFVQWPBeM2Gfox7F/Dblv3ep9pvMy5fbBkmKWhu4Z7jNHn6PpiTFyg8HX4wmlYqOyicZi3DLffb521XtvnOyT6pdZz67dyv/uBsO+ZWST0olczeP/N6mUNH1oBbWrrpYsH3FyaFTfkkzs2GlfOGd9ZR/QMTJ+VLrcdOMSMj2L7+nuBL7Cw1q01bJWDgkyRcu6KmxL8T5T1jWk71eq7Oi8GJnv3c1w0aNeI+wXwrPzCr/hLIT13IX6UpPnpmUmlrBND1EqfaZ2pK0riSKWV0Ke5a3b8amnrtUMlWyxqrU05TFBa6l26SSbamkeBvs3q3i43W3B6j0Nue7GE3mehDtYYP8IbdKn720v31XaZ/sZ50F67fepOBY9/l9uZ6l5M6b2glJbgjTQS+AE+W2z+mXkvxEfyYeV1RhXQyOVl1rWep8qcdx0+wePXrkdhOAsrrcbsBBsr+hFl80Y/MxhUI735Lr3FNvX4hTydIX+1QyVXOHXLXvEZIUiUdkemP7xmeNjtT3Im0/QSlFS7bFSfv29b65m791k7L3W8QaG6vre5Xj90tWSbazfWonlvmmoklFwrGC43U45FesqBfNxB5us0bR4poJ+zSqWSWjF3M3aNNnX899Z+8Tvz9Z8zrtc1k+v0JJWUMuedsRm49ZeZrfr5BiViISPRyJyGg0ta8nWp2eL/U4bpqJ1+vVjRs3dOLECf34xz9WJpNxu0lNo5rrVL2+zLS7tknG8r8Rxq2r/Z5lxkNSzB9u6af+/JIis2FJIaUkXRyNSsnSSVGtYkkpnJqX3x92fGIfZPtsEzEpNtE8NQx2D9B4KKSYP6xQMipfOGw9/VRFbZ5kbXt4NKjwzKzCYZ8moqGq1tGIfVfLOq3vHdbQoD8lSf6CL1923B8alj8ZleRT8pA9RVmNas6Xeh43h11xIvbxxx+73aSmYD/k4/eFZH1pLX/NdvKlDc61zTDleNgvKaTgRGzPMJNdJFxrIX8pdm9MuaeifH5fbvjkIN7DPoEmYrKKKCsknuWGWEpNrrmnXbKGRqxyPGe1UtW2rxbVDiMdJnZNkD80nJtHK7nPuierbHK3BtDJfmnEvqvHOvOLiodDIcXkK6gHs+OhYZ9Cw+G61Yu5pdrzpZ7HzWFFIrZ/1qUg6mj+TbseMxZt3c6Lg9QWyVipwv1ipSaNLFenYj+R6cTut1HtKT7e79OGjXiP4sJeU62ZvT+dsB+QiFgT0jj6Gyftq4d61ey5oTipKFUv6FTxdA9O9ksj9l091ml/ARj2Sb7h8T1DKLm6MZ8kf+3n3mFV7nyp53FzWP30pz8lEauB/bBHJOwr+8CM9XxPpCWPH7e0RTKWP7dYuQuvfSPI78WxH5UPW1mOpN2DsFi5AllJmpiIyaeYIjPWcIK0O7wQU0ixidrrNZy+h30xzr9Yh/1SKLJ3qopy65yZDSslZz2IMUkTwQmFFCs5jceeJLCK9tWD3VOQv42ScrVUjWQ6Zpz8bWwqmjtenTxQYU8bUfz0p/3k5IT12KKk3c++eAqM/EkeG7Hv6rHOZDK58yXKV7Iw3Z7mQT5f2TrLPevU/j+rRqr2fNnPcdNsZmZmSMRqkJQ0ejEqXyqq+Ex47/UiJIVn4pqI+ZqqvOOwa4uasbD1GGXFC09xIX/UOiqtepq49bMP0ZQUHR1VeKbEdAbRpGaGo4pHwpLiuYLcmKTR4IRmZsPWzXBHNCVFg6NyOt4+E/ZJ4cIbkl1f4/Q97OkuInF/bjk7YYrEh1XcO2a9HilYZ3Aipoguyufw5mgXi8+G/YrPzEgqTMiC1kZU3b56iCalZPDinm0sV7dU6jOw27efHpZyx4wT8zEppJiiqZCjaQnsYyQ+G5byPruUZP3sSd43XPszi0dCis9EZH9mE9bGSqp+3zlRj3Xa+0UKlXwAwq4bS8lX1RBdLZ9Vo+znfKn2uGk2c3Nzbjeh6dkPWUVCUcUjceXXWJe6XqB2HS+//HL2xRdflCStrKyUXOj48eMH2SYADthTGFjXxeb9XUkcLI6b6v3pT3+SJPX29kriXon6a4thSqAVhcOhnWkJqvupKbQ3jhvg8On0er1utwFAlayHg8cL6ryASjhugMOpLWrGgFYxG/bLF7bqF/Nr7QATjhvgcOt4/fXXs52d1mgl4+AAABSiZgyNRs0YAACAi0jGAAAAXOQoGctms41uBwAATY17JfaLZAwAgDK2trYcL8u9EvvlKBl78uQJBxkAoK1ks9mqkjHuldgvxz1jGxsbevr0aaPbAwCAq7LZrJ4+faqNjY2qkivulaiWfaw5nmcsm83qyZMnjWwTAABNjXsl9oOnKQEAAFzUlDPwd3R0GOOVupWPHDlijFfqYq7099vb28Z4o2sKPB6PMV6pfZubm8Z4pf1/7NgxY3xjY8MYf+aZZ4zxSu2vtP5KKu2/SirVmHR1mU87exLmcr7++mtjvNbju5JK66+0fbV+PgDQaugZAwAAcBHJGAAAgIuacpiy1mG+SsM0J54xD1M9/to8zPLd737bGP/Nb/5gjNeq0cNAlfZ/re9faRiu82i3MX76hX5j/MEXS8Z4l8c8TLq2+kdjvJJKx9+ZM2eM8c8+uW+Mbzb4Sa5K7edJMgCoTqff73e7DQAAAG2LYUoAAAAXkYwBAAC4qDOZTLrdBgAAgLbVlAX8AACgsXw90plgUFJP7rU1SfH4fWkt5Vq7WhHJGACgZbz55pu6d++e7t6963ZTmlaPpGDQJ/Wc0e07y9JyPBc71yedD57X/bUzSsXjstIz1IqaMQBAyxgbG9PNmzd19uxZt5vStILn+rTWc0a34/el5TsFsTvL0v34bZ3pWVPfuaBLLWw9Ha+//nrW/vmVlZWV0gtV+PmbZvPaN04Z4598af65HZ//RWP8Bz/4oTH+aSZtjHsq/JxM/4D5/ZNJ8zxUX1SYBqyv2/x53/vtb4zx177zmjG+WeHnjDzdx43x/zv/98b49/7yvDH+/Enz/v3HX/zSGH/jP7xhjH/8sXn/v/TSS8Z4MvWvxvhrL/cZ45kV8zfVjW3zPHq//IcPjXHgMBsYGNB7772nkydP6tKlS3XpIbPnVuzt7ZXU2vfKc31S37nzit9f01oqXna5oK9HPWeCOz1nd8ouB2foGQMAtIx0Oq233npLjx49oodsH/pe6NOypLVUhS/1y2uS1tT3wu6Xw6CvR+fPn5f6zun8uT6dP38+95/6zjW24U2OZAwA0FJIyPanT5L6XtCf1qRKtWBWLvaFenqk/AJ/STp/rk+3v3hBt2/fVvz2bWntvoLn+qQeX0Pa3QpIxgAALYeEbP/WHCRjtuMlkrE7y8oNXa5Jun8npR6tqa/CT721M5IxAEDLW11ddbsJbWP5i+WCf1eT3LUrkjEAQMspLuRPp80PTmFXqaHHcpwMae5nve2GZAwA0FIa8URlO7Dyqj+VHHos1tcjqecFer3qhGQMANAySMT2b03S8v2U+iT1+Mz1XS/09WhNPVq+b37qEs50ZTIZvfiied6qVrN96hvG+Gt/3m2MP1j50hj/6Nf/bIwvrXxhjK89emSMP3z40Bh3m+f4SWN8bc38LerTTz81xoNDg8b4P8QaO0/Wz3/+P43xwUFz+zqzm8b4y981T6T487/7r8Y40M7effddErEa3F+W+s7c17kzZxRf9pX82SNfj9Rz5pxVqM/PItUFP4cEAGgZ09PT/BxSDazfnkwpGJTOB8/o9p3jBZO62pPCWnO93navoS2m6/Hjx263AQCAunj//ffdbkLTW5N0O57Sub6Uzp87b2VgBTF+KLze6BkDAAB73FmW7iw77/2Kp9ak1N7llyUt374jiZ9NKqezFX5LCwAAoFmRjAEAALios7OT2S0AAADcQs8YAACAizq++c1vZn0+65fUV1ZWSi9EwgYAaFPZbFaS1NvbK4l7JeqPnjEAAAAXkYwBAAC4iGQMAAAHtre3JUldXUzRifoiGQMAwIGtrS1JUne3+feLgWoxtQUAAA48efJEkuTxeCjWR13R1woAgAMbGxvyeDw6evSoTp8+rY2NDa2vr+d6zOynLoFqddEzBgCAM48fP9aJEyd09OhReTweeTwet5uEFkDPWBPydJm7xze2Gvvt7NSpU8b46upqQ98fANyyvb2t1dVVdXd3q6enx+3moEV0Me4NAEB11tfXc8nY559/7nJr0OxIxgAAqAH3UdSKgjEAAAAXkYwBAAC4iGFKAABqwH0UtaJnDAAAwEUkYwAAAC5qyXnG/v3wvzPG19afGOOB775mjC892jLGZ6ZvGuNvvPGGMf7hhx8a45XmEXt18PvG+NnvvGqM/yb+T8b4X/yFzxj/4IP/Y4wDAIBd9IwBAFrGm2++qbNnz7rdDKAqJGMAgJYxNjammzdvkpChqZCMAQBaxttvv61Hjx6RkKGpkIwBAFpGOp3WW2+9RUKGpkIyBgBoKSRkaDYkYwCAlkNChmZCMgYAaHmrq6tuNwEoqyXnGfv7efM8V4ODg8Z4/KNfG+NZT48x/sb3zfOUnTx50hg//ewpY/yHf/UjY7zvRa8x/uDzZWN8ZWXTGP/ywYYxDgBuGxgY0HvvvaeTJ0/q0qVLSqfTbjcJKIueMQBASylOxO7evet2kwAjkjEAQMsgEUMzIhkDALSMd999l0QMTacla8YAAO1penpa9+7dIxFDUyEZAwC0jPfff9/tJgBVY5gSAADARSRjAAAALuo4e/Zstq+vT5K0srJSeqGOjoNsEyrpqDC6nN06mHYAQBvIZrMlX+/t7ZUkLS+b524EKqFnDAAAwEUkYwAAAC4iGQMAAHARyRgAAICLSMYAAABcRDIGAADgIpIxAAAAF/FzSM2IecW43TYAAAOFSURBVMQAAGgZ9IwBAAC4iGQMAADARSRjAAAALiIZAwAAcBHJGAAAgItIxgAAAFxEMgYAAOAi5hkrof+F08Z4Z0eHMZ5ZXqnp/V9++WVj3NNlfv/V9afmv/d4jPGeo8awFu/cNS8AAAAco2cMAADARSRjAAAALiIZAwAAcBHJGAAAgItIxgAAAFxEMgYAAOAikjEAAAAXteQ8Yz/4N4PG+OdfPTGvoPOIMfytb79ijP/o2W5jfHk5Y4x3PfsNY/zD//VzY/yt//KfjfFNz3Fj/H7qM2N8+PnnjfGNrS3z+z9ZM8b/7Hnz9v/yN/9qjK9++ltjHACAw4SeMQAAABeRjAEAALiIZAwAAMBFJGMAAAAuIhkDAABwEckYAACAi0jGAAAAXNRx9uzZbF9fnyRpZWWl9EIdHQfZJtf5XjlnjB/ZemSM/yH1iTH+6stnjPGP/+W+MX6i+6gx/nh90xjv7jbPg9b35y8a45/c/xdj3PeSeZ6w1CefGuMVdZq3X9vm7QeAamSz2ZKv9/b2SpKWl5cPsjloQfSMAQAAuIhkDAAAwEUkYwAAAC4iGQMAAHBR1927d2UX8AMAgOrcvXvX7SagydEzBgAA4CKSMQAAABd1ud0AJzweT8G/v/76a+PynZ3mHLPcnDG21O/vGOPb29vGeKV52e7+PlnT3y+t/NEYr7R/nn/+eWP8s/9nnufsyy+/NMYr7d+uLvNht7q6aoyfPn3aGP/sM3P77LmByqm0/yt9/pVUOj4r7d9K2//gwQNj/JlnnjHGjx8/boxX+nwr7b9Kn//Tp0+NcQBoNZ2StLGxIanyRRIAAOzeLzc3mWQateuUpMePH0uqPDM7AADYvV8+emT+RRbAiU5p92eQPB5P2/30EQAA1ejo6MiVz3z11VcutwatoEuSPv/8c/X19em5557T6dOntbGxofX1dW1tbUmqXCMCAI3GdQhu6+rqUnd3dy4Re/jwodLptMutQivIFYndvXtXZ8+e1XPPPSePx7OnaN5Na2trbjcBgMsqPXgBHKSHDx/qd7/7HV8SUBe5ZOzJkydaXFzUwMCATp8+rZMnT+ro0aNutg0AgENjc3NTjx490ldffaV0Ok0ihrrZ8/hkOp0+dN2ugUDA7SYAcNkvfvELt5sAAA3RIanlUvsTJ04Y4/bTo4fVYW//YW8fGovPHwDqixn4AQAAXPT/AXXnyAmvER8DAAAAAElFTkSuQmCC\" width=\"611\" height=\"231\" class=\"img_XhWh\"></p>\n<p>此类在编辑器中工作时自动加载引导程序屏幕（构建设置中的第一个场景）。它还添加了用于切换行为的菜单项。</p>\n<div class=\"language-csharp codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-csharp codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">InitializeOnLoad</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SceneBootstrapper</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 将这些键用于“编辑器”首选项</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token plain\"> k_PreviousScene </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"PreviousScene\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token plain\"> k_ShouldLoadBootstrap </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"GameEntry\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 显示为菜单名称</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token plain\"> k_LoadBootstrapMenu </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"Tools/Auto Load GameEntry Scene With Play/On\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token plain\"> k_DontLoadBootstrapMenu </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"Tools/Auto Load GameEntry Scene With Play/Off\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 这将获取引导场景，该场景必须是构建设置中的第一个场景</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token plain\"> BootstrapScene </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> EditorBuildSettings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">scenes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">path</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 此字符串是我们进入播放模式的场景名称</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token plain\"> PreviousScene</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> EditorPrefs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">GetString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">k_PreviousScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">set</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> EditorPrefs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">SetString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">k_PreviousScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 是否启用了场景自启动？</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">bool</span><span class=\"token plain\"> ShouldLoadBootstrapScene</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> EditorPrefs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">GetBool</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">k_ShouldLoadBootstrap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">set</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=&gt;</span><span class=\"token plain\"> EditorPrefs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">SetBool</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">k_ShouldLoadBootstrap</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 静态构造函数使用 InitializeOnLoad 属性运行</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">SceneBootstrapper</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 侦听编辑器更改播放状态</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        EditorApplication</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">playModeStateChanged </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+=</span><span class=\"token plain\"> OnPlayModeStateChanged</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 当编辑器更改播放状态（例如进入播放模式，退出播放模式）时，这将运行</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OnPlayModeStateChanged</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PlayModeStateChange</span><span class=\"token plain\"> playModeStateChange</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 如果从菜单中禁用，则不执行任何操作</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">ShouldLoadBootstrapScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">switch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">playModeStateChange</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 这将在进入播放模式时加载引导场景</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">case</span><span class=\"token plain\"> PlayModeStateChange</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ExitingEditMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                PreviousScene </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> EditorSceneManager</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">GetActiveScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">path</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">EditorSceneManager</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">SaveCurrentModifiedScenesIfUserWantsTo</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&amp;&amp;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">IsSceneInBuildSettings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">BootstrapScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    EditorSceneManager</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OpenScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">BootstrapScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">break</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// This restores the PreviousScene when exiting Play mode</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">case</span><span class=\"token plain\"> PlayModeStateChange</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">EnteredEditMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">IsNullOrEmpty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">PreviousScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                    EditorSceneManager</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OpenScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">PreviousScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">break</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 这些菜单项切换行为。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 这会将一个名为“Tools/Auto Load GameEntry Scene With Play/On”的菜单项添加到 GameSystems 菜单中，并</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 如果选中，则启用该行为。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">MenuItem</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token attribute attribute-arguments\">k_LoadBootstrapMenu</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">EnableBootstrapper</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        ShouldLoadBootstrapScene </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 验证上述函数和菜单项，如果 ShouldLoadBootstrapScene 为 true，则该函数和菜单项显示为灰色。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">MenuItem</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token attribute attribute-arguments\">k_LoadBootstrapMenu</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token attribute attribute-arguments\"> </span><span class=\"token attribute attribute-arguments boolean\">true</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">bool</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">ValidateEnableBootstrapper</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token plain\">ShouldLoadBootstrapScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 将名为“Tools/Auto Load GameEntry Scene With Play/Off”的菜单项添加到 GameSystems 菜单中，并</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 如果选中，则禁用该行为。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">MenuItem</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token attribute attribute-arguments\">k_DontLoadBootstrapMenu</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">DisableBootstrapper</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        ShouldLoadBootstrapScene </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//验证上述函数和菜单项，如果 ShouldLoadBootstrapScene 为 false，则该函数和菜单项将变灰。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">MenuItem</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token attribute attribute-arguments\">k_DontLoadBootstrapMenu</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token attribute attribute-arguments\"> </span><span class=\"token attribute attribute-arguments boolean\">true</span><span class=\"token attribute attribute-arguments punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">bool</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">ValidateDisableBootstrapper</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> ShouldLoadBootstrapScene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// scenePath 是 BuildSettings 中的有效场景吗？</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">private</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">bool</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">IsSceneInBuildSettings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token plain\"> scenePath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">string</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">IsNullOrEmpty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">scenePath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">foreach</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> scene </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> EditorBuildSettings</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">scenes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">scene</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">path </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> scenePath</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"场景快速选择器\">场景快速选择器<a href=\"https://arce.top/arcetop/blog/unity-editor-auto-load-entry-scene#%E5%9C%BA%E6%99%AF%E5%BF%AB%E9%80%9F%E9%80%89%E6%8B%A9%E5%99%A8\" class=\"hash-link\" aria-label=\"场景快速选择器的直接链接\" title=\"场景快速选择器的直接链接\">​</a></h2>\n<p>编辑器脚本来源 <a href=\"https://github.com/UnityTechnologies/open-project-1\" target=\"_blank\" rel=\"noopener noreferrer\">unity开放项目ChopChop</a></p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"unity开放项目场景快速选择器\" src=\"https://arce.top/arcetop/assets/images/image-20240421001654924-daddd9cc777728bfb77dfad02927d1d4.png\" width=\"567\" height=\"944\" class=\"img_XhWh\"></p>",
            "url": "https://arce.top/arcetop/blog/unity-editor-auto-load-entry-scene",
            "title": "Unity编辑模式自启动游戏入口场景",
            "date_modified": "2024-04-20T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "Editor",
                "Unity",
                "SceneManagement"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube",
            "content_html": "<p>官方项目地址：<strong><a href=\"https://github.com/Unity-Technologies/EntityComponentSystemSamples\" target=\"_blank\" rel=\"noopener noreferrer\">Unity-Technologies/EntityComponentSystemSamples (github.com)</a></strong></p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"main-thread-sample\">Main Thread Sample<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#main-thread-sample\" class=\"hash-link\" aria-label=\"Main Thread Sample的直接链接\" title=\"Main Thread Sample的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"MainThreadeffect\" src=\"https://arce.top/arcetop/assets/images/MainThreadeffect-806a937f773cff3d734ed89df08f4235.gif\" width=\"582\" height=\"470\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"ijobentity-samples\">IJobEntity Samples<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#ijobentity-samples\" class=\"hash-link\" aria-label=\"IJobEntity Samples的直接链接\" title=\"IJobEntity Samples的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"MainThreadeffect\" src=\"https://arce.top/arcetop/assets/images/MainThreadeffect-806a937f773cff3d734ed89df08f4235.gif\" width=\"582\" height=\"470\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"aspects-sample\">Aspects sample<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#aspects-sample\" class=\"hash-link\" aria-label=\"Aspects sample的直接链接\" title=\"Aspects sample的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"MainThreadeffect\" src=\"https://arce.top/arcetop/assets/images/Aspectseffect-3462d1ed96f1e88c1d6b3ae8dacb0edb.gif\" width=\"582\" height=\"470\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"prefabs-sample\">Prefabs sample<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#prefabs-sample\" class=\"hash-link\" aria-label=\"Prefabs sample的直接链接\" title=\"Prefabs sample的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"Prefabseffect\" src=\"https://arce.top/arcetop/assets/images/Prefabseffect-c0a53df6125d5c2d068b3656fb7d7ce2.gif\" width=\"400\" height=\"399\" class=\"img_XhWh\"></p></div>\n<p>创建大量cube prefab在随机位置，并让它们逐渐下落，当位置y小于0时销毁，当所有的cube都被销毁那么再重新创建它们</p>\n<div class=\"tabs-container tabList_Ww3F\"><ul role=\"tablist\" aria-orientation=\"horizontal\" class=\"tabs\"><li role=\"tab\" tabindex=\"0\" aria-selected=\"true\" class=\"tabs__item tabItem_TtLg tabs__item--active\">SpawnerAuthoring</li><li role=\"tab\" tabindex=\"-1\" aria-selected=\"false\" class=\"tabs__item tabItem_TtLg\">SpawnSystem</li><li role=\"tab\" tabindex=\"-1\" aria-selected=\"false\" class=\"tabs__item tabItem_TtLg\">FallAndDestroySystem</li></ul><div class=\"margin-top--md\"><div role=\"tabpanel\" class=\"tabItem_XRPV\"><p>在Spawner 下挂载脚本 SpawnerAuthoring 创建spawner的entity</p><div class=\"language-csharp codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-csharp codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// An authoring component is just a normal MonoBehavior that has a Baker&lt;T&gt; class.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// authoring 组件只是具有 Baker 类的普通 MonoBehavior&lt;T&gt;。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SpawnerAuthoring</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token type-list class-name\" style=\"color:rgb(38, 127, 153)\">MonoBehaviour</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">GameObject</span><span class=\"token plain\"> Prefab</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// In baking, this Baker will run once for every SpawnerAuthoring instance in a subscene.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 在烘焙中，此 Baker 将为子场景中的每个 SpawnerAuthoring 实例运行一次。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// (Note that nesting an authoring component's Baker class inside the authoring MonoBehaviour class</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// is simply an optional matter of style.)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// （请注意，将创作组件的 Baker 类嵌套在创作 MonoBehaviour 类中只是一个可选的样式问题。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Baker&lt;T&gt; 将 T Mono class bake 成 entity</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Baker</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token type-list class-name\" style=\"color:rgb(38, 127, 153)\">Baker</span><span class=\"token type-list class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token type-list class-name\" style=\"color:rgb(38, 127, 153)\">SpawnerAuthoring</span><span class=\"token type-list class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">override</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">Bake</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SpawnerAuthoring</span><span class=\"token plain\"> authoring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> entity </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">GetEntity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">TransformUsageFlags</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">None</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">AddComponent</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">entity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token constructor-invocation class-name\" style=\"color:rgb(38, 127, 153)\">Spawner</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                         </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                             Prefab </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">GetEntity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">authoring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Prefab</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> TransformUsageFlags</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Dynamic</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                         </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></div><div role=\"tabpanel\" class=\"tabItem_XRPV\" hidden=\"\"><p>SpawnSystem 用来生成所有的cube</p><div class=\"language-csharp codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-csharp codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">partial</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">struct</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SpawnSystem</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token type-list class-name\" style=\"color:rgb(38, 127, 153)\">ISystem</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">uint</span><span class=\"token plain\"> updateCounter</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">BurstCompile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OnCreate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SystemState</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// This call makes the system not update unless at least one entity in the world exists that has the Spawner component.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">RequireForUpdate</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">Spawner</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">RequireForUpdate</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">ExecutePrefabs</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">BurstCompile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OnUpdate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SystemState</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Create a query that matches all entities having a RotationSpeed component.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 创建一个query来查找所有 Entities 包含 RotationSpeed component 也就是 cubes</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// (The query is cached in source generation, so this does not incur a cost of recreating it every update.)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// query 会被缓冲到source generation，所以不会每次update都重新创建</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> spinningCubesQuery </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">QueryBuilder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">WithAll</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RotationSpeed</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">Build</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Only spawn cubes when no cubes currently exist.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 只在所有的cube都被销毁才创建</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">spinningCubesQuery</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">IsEmpty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// GetSingleton&lt;T&gt;()将获得instance的单例，我们只需要一个spawner在场景中</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 这个函数在场景中不存在或者存在一个以上的包含Spawner component的entity时就会报错</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 因此需要在OnCreate上加上对Spawner的依赖，确保至少有一个Spawner时才update</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> prefab </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">GetSingleton</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">Spawner</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Prefab</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Instantiating an entity creates copy entities with the same component types and values.  // 创建 entities -&gt; cube 500个</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> instances </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">EntityManager</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">Instantiate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">prefab</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">500</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> Allocator</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Temp</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Unlike new Random(), CreateFromIndex() hashes the random seed</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// so that similar seeds don't produce similar results.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> random </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> Random</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">CreateFromIndex</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">updateCounter</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">++</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Update the entity's LocalTransform component with the new position.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 对 component 的乱序查询是非常消耗性能的，一般尽量query component得到entity，然后迭代访问component</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 最推荐的做法还是先query再访问每个transform ???</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// TODO: SystemAPI.GetComponentRW 可以指定从实体中获取组件    SystemAPI.Query 好像不行</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">foreach</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">trans</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">speed</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">Query</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RefRW</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">LocalTransform</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RefRO</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RotationSpeed</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                trans</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ValueRW</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Position </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">random</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">NextFloat3</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token constructor-invocation class-name\" style=\"color:rgb(38, 127, 153)\">float3</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0.5f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0.5f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">*</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">20</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">foreach</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> entity </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> instances</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> transform </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">GetComponentRW</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">LocalTransform</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">entity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                transform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ValueRW</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Position </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">random</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">NextFloat3</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token constructor-invocation class-name\" style=\"color:rgb(38, 127, 153)\">float3</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0.5f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0.5f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">*</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">20</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></div><div role=\"tabpanel\" class=\"tabItem_XRPV\" hidden=\"\"><p>FallAndDestroySystem cube的下落和销毁</p><div class=\"language-csharp codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-csharp codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">partial</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">struct</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">FallAndDestroySystem</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token type-list class-name\" style=\"color:rgb(38, 127, 153)\">ISystem</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">BurstCompile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OnCreate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SystemState</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">RequireForUpdate</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">ExecutePrefabs</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">BurstCompile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OnUpdate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SystemState</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// rotation</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">float</span><span class=\"token plain\"> deltaTime </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Time</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">DeltaTime</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">foreach</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">transform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> speed</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                 SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">Query</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RefRW</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">LocalTransform</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\"> RefRO</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RotationSpeed</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// ValueRW and ValueRO both return a ref to the actual component value.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// The difference is that ValueRW does a safety check for read-write access while</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// ValueRO does a safety check for read-only access.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// ValueRW 和 ValueRO 都返回对实际组件值的引用。区别在于，ValueRW 对读写访问进行安全检查，而 ValueRO 对只读访问进行安全检查。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            transform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ValueRW </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> transform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ValueRO</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">RotateY</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                speed</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ValueRO</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">RadiansPerSecond </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">*</span><span class=\"token plain\"> deltaTime</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// An EntityCommandBuffer created from EntityCommandBufferSystem.Singleton will be</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// played back and disposed by the EntityCommandBufferSystem when it next updates.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 从 EntityCommandBufferSystem.Singleton 创建的 EntityCommandBuffer 将在 EntityCommandBufferSystem 下次更新时运行并释放。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> ecbSingleton </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">GetSingleton</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">BeginSimulationEntityCommandBufferSystem</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">Singleton</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> ecb </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> ecbSingleton</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">CreateCommandBuffer</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">WorldUnmanaged</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Downward vector</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> movement </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token constructor-invocation class-name\" style=\"color:rgb(38, 127, 153)\">float3</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Time</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">DeltaTime </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">*</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">5f</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// WithAll() includes RotationSpeed in the query, but</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// the RotationSpeed component values will not be accessed.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// WithEntityAccess() includes the Entity ID as the last element of the tuple.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// WithAll（） 在查询中包含 RotationSpeed，但不会访问 RotationSpeed 组件值。WithEntityAccess（） 将实体 ID 作为元组的最后一个元素包含在内。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">foreach</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">transform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> entity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                 SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">Query</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RefRW</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">LocalTransform</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                 </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">WithAll</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RotationSpeed</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                 </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">WithEntityAccess</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            transform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ValueRW</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Position </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+=</span><span class=\"token plain\"> movement</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">transform</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">ValueRO</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Position</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">y </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Making a structural change would invalidate the query we are iterating through,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// so instead we record a command to destroy the entity later.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 进行结构更改会使我们正在迭代的查询失效，因此我们稍后会记录一个命令以销毁实体。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                ecb</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">DestroyEntity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">entity</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"ijobchunk\">IJobChunk<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#ijobchunk\" class=\"hash-link\" aria-label=\"IJobChunk的直接链接\" title=\"IJobChunk的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"MainThreadeffect\" src=\"https://arce.top/arcetop/assets/images/MainThreadeffect-806a937f773cff3d734ed89df08f4235.gif\" width=\"582\" height=\"470\" class=\"img_XhWh\"></p></div>\n<p>IJobChunk代替IJobEntity来处理 cube 的旋转</p>\n<div class=\"theme-admonition theme-admonition-info admonition_HIgT alert alert--info\"><div class=\"admonitionHeading_YiIM\"><span class=\"admonitionIcon_flvz\"><svg viewBox=\"0 0 14 16\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg></span>IJobEntity 和 IJobChunk 的区别:</div><div class=\"admonitionContent_euFF\"><p>IJobEntity 为与查询匹配的每个<code>实体</code>调用一次</p><p>IJobChunk 为与查询匹配的每个<code>区块</code>调用一次</p></div></div>\n<div class=\"tabs-container tabList_Ww3F\"><ul role=\"tablist\" aria-orientation=\"horizontal\" class=\"tabs\"><li role=\"tab\" tabindex=\"0\" aria-selected=\"true\" class=\"tabs__item tabItem_TtLg tabs__item--active\">RotationJob</li><li role=\"tab\" tabindex=\"-1\" aria-selected=\"false\" class=\"tabs__item tabItem_TtLg\">RotationSystem</li></ul><div class=\"margin-top--md\"><div role=\"tabpanel\" class=\"tabItem_XRPV\"><div class=\"language-csharp codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-csharp codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">BurstCompile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">struct</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RotationJob</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token type-list class-name\" style=\"color:rgb(38, 127, 153)\">IJobChunk</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 比较 IJobEntity, 这里的变量是ComponentTypeHandle&lt;T&gt; ; 而IJobEntity可以在Execute使用ref T</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ComponentTypeHandle</span><span class=\"token class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">LocalTransform</span><span class=\"token class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> TransformTypeHandle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">ReadOnly</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ComponentTypeHandle</span><span class=\"token class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RotationSpeed</span><span class=\"token class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> RotationSpeedTypeHandle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">float</span><span class=\"token plain\"> DeltaTime</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// v128 表示 128 位 SIMD 值</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">Execute</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ArchetypeChunk</span><span class=\"token plain\"> chunk</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">int</span><span class=\"token plain\"> unfilteredChunkIndex</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">bool</span><span class=\"token plain\"> useEnabledMask</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">v128</span><span class=\"token plain\"> chunkEnabledMask</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// The useEnableMask parameter is true when one or more entities in</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// the chunk have components of the query that are disabled.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// If none of the query component types implement IEnableableComponent,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// we can assume that useEnabledMask will always be false.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// However, it's good practice to add this guard check just in case</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// someone later changes the query or component types.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 当区块中的一个或多个实体具有 disable 的查询组件时，useEnableMask 参数为 true。如果查询组件类型均未实现 IEnableComponent，</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 则可以假定 useEnabledMask 将始终为 false。但是，最好添加此保护检查，以防以后有人更改查询或组件类型。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        Assert</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">IsFalse</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">useEnabledMask</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> transforms </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> chunk</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">GetNativeArray</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> TransformTypeHandle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> rotationSpeeds </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> chunk</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">GetNativeArray</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> RotationSpeedTypeHandle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">int</span><span class=\"token plain\"> i </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> chunkEntityCount </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> chunk</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Count</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> i </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&lt;</span><span class=\"token plain\"> chunkEntityCount</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> i</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">++</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            transforms</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">i</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> transforms</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">i</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">RotateY</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">rotationSpeeds</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">i</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">RadiansPerSecond </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">*</span><span class=\"token plain\"> DeltaTime</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></div><div role=\"tabpanel\" class=\"tabItem_XRPV\" hidden=\"\"><div class=\"language-csharp codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-csharp codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">partial</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">struct</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RotationSystem</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token type-list class-name\" style=\"color:rgb(38, 127, 153)\">ISystem</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">BurstCompile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OnCreate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SystemState</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">RequireForUpdate</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">ExecuteIJobChunk</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token attribute class-name\" style=\"color:rgb(38, 127, 153)\">BurstCompile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token return-type class-name keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">OnUpdate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">ref</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SystemState</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> spinningCubesQuery </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">QueryBuilder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">WithAll</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RotationSpeed</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\"> LocalTransform</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">Build</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> job </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">new</span><span class=\"token plain\"> </span><span class=\"token constructor-invocation class-name\" style=\"color:rgb(38, 127, 153)\">RotationJob</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            TransformTypeHandle </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">GetComponentTypeHandle</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">LocalTransform</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            RotationSpeedTypeHandle </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token generic-method function\" style=\"color:rgb(0, 0, 255)\">GetComponentTypeHandle</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generic-method generic class-name\" style=\"color:rgb(38, 127, 153)\">RotationSpeed</span><span class=\"token generic-method generic class-name punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            DeltaTime </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> SystemAPI</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Time</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">DeltaTime</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Unlike an IJobEntity, an IJobChunk must be manually passed a query.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Furthermore, IJobChunk does not pass and assign the state.Dependency JobHandle implicitly.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// (This pattern of passing and assigning state.Dependency ensures that the entity jobs scheduled</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// in different systems will depend upon each other as needed.)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//与 IJobEntity 不同，必须手动向 IJobChunk 传递查询。此外，IJobChunk 不会传递和分配状态。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//隐式依赖项 JobHandle。（这种传递和分配状态的模式。依赖关系可确保在不同系统中调度的实体作业将根据需要相互依赖。</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Dependency </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> job</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">Schedule</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">spinningCubesQuery</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> state</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">Dependency</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"reparenting-sample\">Reparenting sample<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#reparenting-sample\" class=\"hash-link\" aria-label=\"Reparenting sample的直接链接\" title=\"Reparenting sample的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"Reparentingeffect\" src=\"https://arce.top/arcetop/assets/images/Reparentingeffect-486ab1ac78395478e9bf1166ab6a878c.gif\" width=\"582\" height=\"470\" class=\"img_XhWh\"></p></div>\n<p>让子Cube周期性的挂载和卸载在父Cube上，挂载时跟随旋转</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"enableablecomponents-sample\">EnableableComponents Sample<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#enableablecomponents-sample\" class=\"hash-link\" aria-label=\"EnableableComponents Sample的直接链接\" title=\"EnableableComponents Sample的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"Enableableeffect\" src=\"https://arce.top/arcetop/assets/images/Enableableeffect-48c2f8efca7d25d2c387d9b5fb9bb128.gif\" width=\"531\" height=\"350\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"gameobjectsync\">GameObjectSync<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#gameobjectsync\" class=\"hash-link\" aria-label=\"GameObjectSync的直接链接\" title=\"GameObjectSync的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"MainThreadeffect\" src=\"https://arce.top/arcetop/assets/images/MainThreadeffect-806a937f773cff3d734ed89df08f4235.gif\" width=\"582\" height=\"470\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"crossquery\">CrossQuery<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#crossquery\" class=\"hash-link\" aria-label=\"CrossQuery的直接链接\" title=\"CrossQuery的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"CrossQueryeffect\" src=\"https://arce.top/arcetop/assets/images/CrossQueryeffect-28c3be880266e1d5a23e1a1a1e057e4f.gif\" width=\"531\" height=\"703\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"randomspawn\">RandomSpawn<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#randomspawn\" class=\"hash-link\" aria-label=\"RandomSpawn的直接链接\" title=\"RandomSpawn的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"RandomSpawneffect\" src=\"https://arce.top/arcetop/assets/images/RandomSpawneffect-717d9e4aa897ad167ed027e8245f3819.gif\" width=\"400\" height=\"359\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"firstpersoncontroller\">FirstPersonController<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#firstpersoncontroller\" class=\"hash-link\" aria-label=\"FirstPersonController的直接链接\" title=\"FirstPersonController的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"FirstPersonControllereffect\" src=\"https://arce.top/arcetop/assets/images/FirstPersonControllereffect-1d00bde10832f97e1d97612fc4c4c4f4.gif\" width=\"400\" height=\"359\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"fixedtimestep\">FixedTimestep<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#fixedtimestep\" class=\"hash-link\" aria-label=\"FixedTimestep的直接链接\" title=\"FixedTimestep的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"FixedTimestepeffect\" src=\"https://arce.top/arcetop/assets/images/FixedTimestepeffect-a3909f7b29f783dda4b7e0085dbfabbc.gif\" width=\"400\" height=\"212\" class=\"img_XhWh\"></p></div>\n<p>实例化每个系统更新的一个实体。每个显示的帧更新一次。（取决于帧速率）</p>\n<p>实例化每个系统更新的一个实体。更新速率由下面的滑块控制。（与帧速率无关）</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"customtransforms\">CustomTransforms<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#customtransforms\" class=\"hash-link\" aria-label=\"CustomTransforms的直接链接\" title=\"CustomTransforms的直接��链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"CustomTransformseffect\" src=\"https://arce.top/arcetop/assets/images/CustomTransformseffect-d8f78c81ec73661c6c5d9844d74ac7cd.gif\" width=\"695\" height=\"298\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"statechange\">StateChange<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#statechange\" class=\"hash-link\" aria-label=\"StateChange的直接链接\" title=\"StateChange的直接链接\">​</a></h2>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"closesttarget\">ClosestTarget<a href=\"https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube#closesttarget\" class=\"hash-link\" aria-label=\"ClosestTarget的直接链接\" title=\"ClosestTarget的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"ClosestTargetseffect\" src=\"https://arce.top/arcetop/assets/images/ClosestTargetseffect-588a2a1adbb2dd708188eb187c0708f1.gif\" width=\"400\" height=\"237\" class=\"img_XhWh\"></p></div>",
            "url": "https://arce.top/arcetop/blog/Unity-ECS-Samples-HelloCube",
            "title": "Unity ECS Samples - HelloCube",
            "summary": "测试",
            "date_modified": "2024-04-15T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "ECS",
                "Unity"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/voxelhouse-by-oskar",
            "content_html": "<p>分解体素屋演示 作者：Oskar Stålberg</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161203130\" src=\"https://arce.top/arcetop/assets/images/image-20240119161203130-a842d5451f8458bbf7f283d3dfd4da8b.png\" width=\"839\" height=\"352\" class=\"img_XhWh\"></p></div>\n<p><strong><a href=\"https://oskarstalberg.com/game/house/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">Voxel House 试玩地址</a></strong></p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"介绍\">介绍<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E4%BB%8B%E7%BB%8D\" class=\"hash-link\" aria-label=\"介绍的直接链接\" title=\"介绍的直接链接\">​</a></h2>\n<p>我的项目通常围绕着我想探索的一些中心思想展开。在这里，这个中心思想是模块化图块集的一种特定的内容驱动方法，我已经想到了一段时间。\n此项目可以在 Maya 中创建为 Python 脚本，也可以在 Houdini 中创建为节点图。但是，由于我不希望我的最终演示材料是以灰盒 Maya 场景为背景的沉闷叙述的 youtube 剪辑，因此我创建了一个交互式 Web 演示。\n作为一名技术艺术家，我的技能范围至关重要;我不是一个大师级的艺术家，也不是一个合格的程序员，但我两者都有一部分。我最擅长艺术与科技的交汇处;程序和工艺。\n网络演示是展示这些技能的完美媒介。</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"弄清楚瓷砖\">弄清楚瓷砖<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E5%BC%84%E6%B8%85%E6%A5%9A%E7%93%B7%E7%A0%96\" class=\"hash-link\" aria-label=\"弄清楚瓷砖的直接链接\" title=\"弄清楚瓷砖的直接链接\">​</a></h2>\n<p><strong>核心概念是这样的：瓷砖是放置在方块之间的角落，而不是方块的中心。</strong>\n图块由它们周围的方块定义：与角落中一个方块相邻的方块的方块将是 1,0,0,0,0,0,0;表示直墙的瓷砖将是 1,1,1,1,0,0,0,0。</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161321028\" src=\"https://arce.top/arcetop/assets/images/image-20240119161321028-0767b99edbf1411cad7be41a9fedee4f.png\" width=\"838\" height=\"220\" class=\"img_XhWh\"></p></div>\n<p>由于每个角被 8 个可能的方块包围，每个方块可以是存在或不存在的 2 种可能状态，因此可能的方块数量为 2^8= 256。这比我想要建模的块要多得多，所以我写了一个脚本来弄清楚这些图块中哪些是真正独特的，哪些图块只是其他图块的旋转。\n脚本告诉我，我必须对 67 个独特的图块进行建模 - 这个数字要容易得多。</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161432128\" src=\"https://arce.top/arcetop/assets/images/image-20240119161432128-00b481e6e2055f962c31c96cc76e1205.png\" width=\"808\" height=\"215\" class=\"img_XhWh\"></p></div>\n<p>我也可以排除其他瓷砖的翻转版本，这将使数字进一步下降。但是，我决定保留这些，以便我可以制作一些不对称的平铺功能。\n您在建筑物凹角处看到的排水管就是一个例子。</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"maya-中的布尔设置\">Maya 中的布尔设置<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#maya-%E4%B8%AD%E7%9A%84%E5%B8%83%E5%B0%94%E8%AE%BE%E7%BD%AE\" class=\"hash-link\" aria-label=\"Maya 中的布尔设置的直接链接\" title=\"Maya 中的布尔设置的直接链接\">​</a></h2>\n<p>作为技术艺术家，我经常花更多的时间在工作流程上，而不是花在实际工作上。即使考虑到旋转排列，这个项目仍然涉及大量的 3D 网格需要手动创建和跟踪。\n该项目的模块化特性也使得在 Maya 之外的适当上下文中持续查看和评估模型非常重要。导出过程必须快速简便，我决定编写一个小的 python 脚本来帮助我。\n首先，脚本将我所有的网格合并为一个整体。其次，每个图块的边界框继续使用 Maya 的布尔运算剪切出此合并网格的特定切片。\n所有切口块都继承其边界框中的名称和变换，并一起导出为 fbx。</p>\n<p>这不仅使导出过程成为一键式解决方案，还意味着我不必保持 Maya 场景的整洁。网格的名称、它们的父级或它们是否正确合并并不重要。\n我调整了我的 Maya 脚本，以允许相同图块类型的多个变体。然后，我的 Unity 脚本从该变体池中随机选择它存在的地方。在下图中，您可以看到某些边界框比其他边界框大。\n这些适用于顶点超出其分配体积的图块。</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161615206\" src=\"https://arce.top/arcetop/assets/images/image-20240119161615206-c2584480f25ae17c7c8a85748872416a.png\" width=\"826\" height=\"356\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"环境遮蔽\">环境遮蔽<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E7%8E%AF%E5%A2%83%E9%81%AE%E8%94%BD\" class=\"hash-link\" aria-label=\"环境遮蔽的直接链接\" title=\"环境遮蔽的直接链接\">​</a></h2>\n<p>照明对于传达 3D 形状和良好的空间感至关重要。由于免费版Unity的技术限制，我无法访问实时阴影或ssao，也无法编写自己的阴影，因为免费的Unity不允许渲染目标。\n解决方案是在该项目的块状性质中找到的。每个块都表示 3D 纹理中的体素。虽然 Unity 不允许我在 GPU 上绘制渲染目标，但它确实允许我在 CPU 上从脚本操作纹理。\n（当然，每个像素的速度要慢得多，但对于我的目的来说已经足够快了。只需在法线的大方向上对该像素进行采样，就可以获得不错的环境光遮蔽近似值。</p>\n<p>我试图在未点亮的颜色纹理上乘以这个AO，但结果太暗太无聊了。\n我决定采用一种方法，利用我新获得的 3D 纹理经验：AO 不仅使像素变暗，还使像素朝向 3D LUT，使其更蓝、饱和度更低。\n结果给了我很大的色调变化，而没有太苛刻的值变化。这个照明模型给了我在这个项目中所追求的柔和和宁静的感觉。</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161653210\" src=\"https://arce.top/arcetop/assets/images/image-20240119161653210-eaf31ef066f517dbc003b31cfaa35821.png\" width=\"834\" height=\"466\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"特殊件\">特殊件<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E7%89%B9%E6%AE%8A%E4%BB%B6\" class=\"hash-link\" aria-label=\"特殊件的直接链接\" title=\"特殊件的直接链接\">​</a></h2>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161716120\" src=\"https://arce.top/arcetop/assets/images/image-20240119161716120-bdf97b30ea9fe6b3a3ca6ddec9d423ff.png\" width=\"842\" height=\"204\" class=\"img_XhWh\"></p></div>\n<p>当您启动演示时，它将自动为您生成一个随机结构。根据设计，该结构不包含任何松散或悬挂的块。</p>\n<p>我知道，一个经验丰富的工具使用者会试图通过观察它如何处理这些类型的异常结构来立即破坏工具。我决定通过让这些瓷砖更加特别，展示弧线、通道和柱子等特征来炫耀。</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161742967\" src=\"https://arce.top/arcetop/assets/images/image-20240119161742967-cb9e266d6dc0f95b9c3a23b90b1f2377.png\" width=\"823\" height=\"210\" class=\"img_XhWh\"></p><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119161807425\" src=\"https://arce.top/arcetop/assets/images/image-20240119161807425-3c71804a324f3f0d46a8713188b0ced5.png\" width=\"814\" height=\"665\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"漂浮件\">漂浮件<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E6%BC%82%E6%B5%AE%E4%BB%B6\" class=\"hash-link\" aria-label=\"漂浮件的直接链接\" title=\"漂浮件的直接链接\">​</a></h2>\n<p>在我的项目中，没有任何内容可以阻止用户创建自由浮动的块，这就是我想要保留它的方式。但我也想向用户展示，我确实考虑过这种可能性。\n我的解决方案是让自由浮动的块慢慢地上下摆动。这需要我创建一个有趣的小算法来实时确定哪些块连接到底座，哪些没有：</p>\n<p>每个基本块的逻辑距离均为 0。另一个块检查它们的任何邻居的逻辑距离是否比它们自己短;如果他们这样做，他们会采用该值并为其添加 1。\n因此，如果断开一个块的连接，则不会有任何内容将这些块接地到基本块的 0，并且它们的逻辑距离将很快穿过屋顶。那是他们开始摇晃的时候。</p>\n<p>浮动块的缓慢摆动为场景增添了一些漂亮的环境动画。</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119162010112\" src=\"https://arce.top/arcetop/assets/images/image-20240119162010112-9c8aa0f4bf7bf2ab66ada2dee02afa22.png\" width=\"369\" height=\"502\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"艺术选择\">艺术选择<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E8%89%BA%E6%9C%AF%E9%80%89%E6%8B%A9\" class=\"hash-link\" aria-label=\"艺术选择的直接链接\" title=\"艺术选择的直接链接\">​</a></h2>\n<p>选择一种风格是任何项目中有趣且重要的一部分。样式应突出显示与特定项目相关的功能。在这个项目中，我想要一种强调块状和模块化的风格，而不是隐藏它。</p>\n<p>清晰的绿色线条勾勒出梯田的轮廓，墙壁是素色的，每层楼都有深色砖块标记，窗户均匀分布，底部的污垢光滑并呈直线沉积。\n拐角采用大量斜面设计，以强调瓷砖无缝衔接。露台应该看起来像一个舒适的秘密空间，您可以在安静的周日早晨享用慢速早午餐。\n总的来说，这件作品是和平而友好的——如果你愿意的话，这是对资产阶级生活的宁静的致敬。</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"动画\">动画<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E5%8A%A8%E7%94%BB\" class=\"hash-link\" aria-label=\"动画的直接链接\" title=\"动画的直接链接\">​</a></h2>\n<p>与作品互动应该是有趣且反应灵敏的。我创建了一个用于添加和删除块的动画效果。该效果是顶点着色器的简单组合，前者沿顶点的法线将顶点推出，后者随时间推移分解表面。\n一个很好的转折点是，我能够使用为 AO 创建的 3D 纹理来限制沿效果边缘的顶点 - 这就是在图片中看到的中间凸起的原因。</p>\n<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119162024709\" src=\"https://arce.top/arcetop/assets/images/image-20240119162024709-e7d1cbe6e1386bc8c22afa4d89066da9.png\" width=\"834\" height=\"196\" class=\"img_XhWh\"></p><p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20240119162038136\" src=\"https://arce.top/arcetop/assets/images/image-20240119162038136-ae613c4fa33994c420b1a8593378cdcc.png\" width=\"816\" height=\"528\" class=\"img_XhWh\"></p></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"结论\">结论<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E7%BB%93%E8%AE%BA\" class=\"hash-link\" aria-label=\"结论的直接链接\" title=\"结论的直接链接\">​</a></h2>\n<p>最终的结果就像一个工具，但不是。这是一件在浏览器中运行的交互式艺术作品。可以评估它的技术方面，它作为关卡编辑器工具的潜力，它的着色器工作，它的执行和完成，或者只是作为一个有趣的玩法。\n我希望它能吸引开发人员和外行。</p>\n<p>在某种程度上，像这样的网络演示只是一种恶作剧的方式，可以诱骗人们看你的艺术作品的时间比他们本来要长。</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"关于作者\">关于作者<a href=\"https://arce.top/arcetop/blog/voxelhouse-by-oskar#%E5%85%B3%E4%BA%8E%E4%BD%9C%E8%80%85\" class=\"hash-link\" aria-label=\"关于作者的直接链接\" title=\"关于作者的直接链接\">​</a></h2>\n<p>我是奥斯卡·斯塔尔伯格。我在瑞典乌普萨拉的大学城长大。我有两个兄弟。我们三个人都热爱数学、科学和解决问题。\n然而，我确实在绘画方面击败了他们，所以对我来说，从很小的时候起，我就很明显，我必须做一些与此相关的事情。中学毕业后，我在 The Game Assembly 度过了两年压力很大但又富有成效的时光，学习了游戏美术的所有基础知识。\nUbisoft Massive 把我当成技术美术师，从那以后我就一直在那里。我喜欢创造美观、互动和响应迅速的东西。我重视优雅的解决方案。\n在科技和艺术的交汇点上，我是最舒服的，我一直在寻找新的交汇点。</p>\n<p>作者个人页：<a href=\"http://www.oskarstalberg.com/\" target=\"_blank\" rel=\"noopener noreferrer\">www.oskarstalberg.com</a></p>\n<p>文章来源： <a href=\"https://ryanhawkins.gumroad.com/l/Nivt\" target=\"_blank\" rel=\"noopener noreferrer\">VERTEX3 (gumroad.com)</a> （170-176）</p>",
            "url": "https://arce.top/arcetop/blog/voxelhouse-by-oskar",
            "title": "Voxel House（体素屋）",
            "date_modified": "2024-01-19T00:00:00.000Z",
            "author": {
                "name": "OskarStålberg",
                "url": "https://oskarstalberg.tumblr.com/"
            },
            "tags": [
                "PCG",
                "Wave Function Collapse",
                "Unity",
                "Marching Cubes"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM",
            "content_html": "<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"安装docker-compose\">安装docker compose<a href=\"https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM#%E5%AE%89%E8%A3%85docker-compose\" class=\"hash-link\" aria-label=\"安装docker compose的直接链接\" title=\"安装docker compose的直接链接\">​</a></h2>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">curl -SL https://github.com/docker/compose/releases/download/v2.17.2/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>因为是在本地的虚拟机 可以放心直接关闭防火墙</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 停止防火墙服务</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl stop firewalld.service</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 禁用防火墙服务</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl disable firewalld.service</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"安装-gogs\">安装 gogs<a href=\"https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM#%E5%AE%89%E8%A3%85-gogs\" class=\"hash-link\" aria-label=\"安装 gogs的直接链接\" title=\"安装 gogs的直接链接\">​</a></h2>\n<p>mysql-gogs 这里单独使用一个mysql服务给gogs 为了隔离环境</p>\n<p>docker-compose.yml</p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"3\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">services</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">gogs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">restart</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> always </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 自动重启</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> gogs/gogs</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">container_name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> gogs</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"10022:22\"</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># ssh 端口</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"10880:3000\"</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># Web 访问端口</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./gogs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">data</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/data </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 数据存储</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">gogs</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">mysql-gogs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">restart</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> always</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">latest</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">container_name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">gogs</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">environment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">MYSQL_ROOT_PASSWORD</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">123456</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">MYSQL_USER</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> gogs </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># gogs 访问数据库用的账号</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">MYSQL_PASSWORD</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> gogs123456</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"10006:3306\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./conf/my.cnf</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/etc/mysql/my.cnf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">data</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/var/lib/mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/var/log/mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">files</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/var/lib/mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">files</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./etc/localtime</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/etc/localtime</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">ro</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 一般会对 MySQL 进行配置，所以上面采用了 cnf 文件的形式，如果只是修改字符集，也可以使用 command 的形式，如下面所示</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># command: --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>my.conf  放在docker-compose.yml同级的conf目录下</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[client]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set=utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysql]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set=utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysqld]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character-set-server=utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">collation-server=utf8mb4_unicode_ci</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230417215102164\" src=\"https://arce.top/arcetop/assets/images/image-20230417215102164-86d0735dffb6b8121824977f2ba8af4f.png\" width=\"1729\" height=\"815\" class=\"img_XhWh\"></p>\n<p>运行 docker-compose up -d</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"安装nacos\">安装nacos<a href=\"https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM#%E5%AE%89%E8%A3%85nacos\" class=\"hash-link\" aria-label=\"安装nacos的直接链接\" title=\"安装nacos的直接链接\">​</a></h2>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"3\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">services</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">nacos</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> nacos/nacos</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">server</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">v2.1.0</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">container_name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> nacos</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">environment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 支持主机名可以使用hostname,否则使用ip，默认ip</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> PREFER_HOST_MODE=ip</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 单机模式</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> MODE=standalone</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 数据源平台 支持mysql或不保存empty</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> SPRING_DATASOURCE_PLATFORM=mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># mysql配置，!!!attention必须是mysql所在主机IP</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> MYSQL_SERVICE_HOST=192.168.87.132</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> MYSQL_SERVICE_PORT=10006</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> MYSQL_SERVICE_USER=root</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> MYSQL_SERVICE_PASSWORD=123456</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> MYSQL_SERVICE_DB_NAME=nacos</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./logs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/home/nacos/logs</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./conf</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/home/nacos/conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> 8848</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8848</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">restart</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> always</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>运行 docker-compose up -d</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230417215143668\" src=\"https://arce.top/arcetop/assets/images/image-20230417215143668-71969bc54249950c911ab5cbf3f33115.png\" width=\"2225\" height=\"1211\" class=\"img_XhWh\"></p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"安装rabbitmq\">安装rabbitMQ<a href=\"https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM#%E5%AE%89%E8%A3%85rabbitmq\" class=\"hash-link\" aria-label=\"安装rabbitMQ的直接链接\" title=\"安装rabbitMQ的直接链接\">​</a></h2>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'3'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">services</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">rabbitmq</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> rabbitmq</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">3.8.3</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">management</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">container_name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> rabbitmq</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">restart</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> always</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">hostname</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> rabbitmq_host</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> 15672</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">15672</span><span class=\"token plain\">   </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># web UI 管理接口</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> 5672</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">5672</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 生产者和消费者连接使用的接口</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./log</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/var/log/rabbitmq </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">#挂载 RabbitMQ日志</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./data</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/var/lib/rabbitmq </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">#挂载 RabbitMQ数据</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">environment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> RABBITMQ_DEFAULT_USER=root</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> RABBITMQ_DEFAULT_PASS=123456</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>运行 docker-compose up -d</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230417215249731\" src=\"https://arce.top/arcetop/assets/images/image-20230417215249731-65710a877467d8a5b3dc55529ab5d343.png\" width=\"1528\" height=\"377\" class=\"img_XhWh\"></p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"安装redis\">安装redis<a href=\"https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM#%E5%AE%89%E8%A3%85redis\" class=\"hash-link\" aria-label=\"安装redis的直接链接\" title=\"安装redis的直接链接\">​</a></h2>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'3'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">services</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">redis</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> redis</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">6.2.6</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">alpine </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 指定服务镜像，最好是与之前下载的redis配置文件保持一致</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">container_name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> my_redis </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 容器名称</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">restart</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> on</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">failure </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 重启方式</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">environment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> TZ=Asia/Shanghai </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 设置时区</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 配置数据卷</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./data</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/data</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./conf/redis.conf</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/etc/redis/redis.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 映射端口</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"6379:6379\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">sysctls</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 设置容器中的内核参数</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> net.core.somaxconn=1024</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">   </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">#  - vm.overcommit_memory=1</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">command</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> /bin/sh </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">c \"echo 'vm.overcommit_memory = 1' </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> /etc/sysctl.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token important\">&amp;&amp;</span><span class=\"token plain\"> redis</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">server /etc/redis/redis.conf </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">appendonly yes\" </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 指定配置文件并开启持久化</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">privileged</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean important\">true</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 使用该参数，container内的root拥有真正的root权限。否则，container内的root只是外部的一个普通用户权限</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 指定redis绑定的主机地址，注释掉这部分，使redis可以外部访问</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    # bind 127.0.0.1 -::1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 指定访问redis服务端的端口</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    port 6379</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 指定客户端连接redis服务器时，当闲置的时间为多少（如300）秒时关闭连接（0表示禁用）</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    timeout 0</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 默认情况下，Redis不作为守护进程运行。如果需要，请使用“yes”</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    daemonize no</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 给redis设置密码，不需要密码的话则注释</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    # requirepass foobared</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 开启redis持久化，默认为no</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    appendonly yes</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 防止出现远程主机强迫关闭了一个现有的连接的错误 默认是300</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    tcp-keepalive 300</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 指定redis数据库的日志级别，常用的日志级别有debug、verbose、notice、warning，不进行修改的情况下默认的是notice</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    loglevel debug</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 指定redis数据库多长时间内（s）有多少次（c）更新操作时就把缓存中的数据同步到本地库，比如：save 600 2，指的是10分钟内有2次更新操作，就同步到本地库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    save 600 2</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 指定redis的最大内存。由于Redis 在启动时会把数据加载到内存中，当数据达到最大内存时，redis会自动把已经到期和即将到期的key值。所以可以根据需求调整自己的所需的最大内存</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    maxmemory 500mb</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 设置了maxmemory的选项，redis内存使用达到上限。可以通过设置LRU算法来删除部分key，释放空间。默认是按照过期时间的,如果set时候没有加上过期时间就会导致数据写满maxmemory</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    maxmemory-policy volatile-lru</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">### 设置外部网络连接redis服务，开启需配置bind ip或者设置访问密码，关闭此时外部网络可以直接访问</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    # protected-mode yes</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230417215752263\" src=\"https://arce.top/arcetop/assets/images/image-20230417215752263-fb3143a38c524aa0dc559a20d01f6520.png\" width=\"1223\" height=\"820\" class=\"img_XhWh\"></p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"安装es\">安装es<a href=\"https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM#%E5%AE%89%E8%A3%85es\" class=\"hash-link\" aria-label=\"安装es的直接链接\" title=\"安装es的直接链接\">​</a></h2>\n<p>创建目录 plugins data  plugins kibana config</p>\n<p>chmod 777 ./data</p>\n<p>plugins 放入ik分词器zip包</p>\n<p>config/elasticsearch.yml</p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">network.host</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> 0.0.0.0</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>kibana/kibana.yml</p>\n<div class=\"language-yam codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yam codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">elasticsearch.hosts: http://elasticsearch:9200</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">server.host: \"0.0.0.0\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">server.name: kibana</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">xpack.monitoring.ui.container.elasticsearch.enabled: true</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">i18n.locale: zh-CN</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>docker-compose.yml</p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'3.2'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">services</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">elasticsearch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> elasticsearch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">7.17.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"9200:9200\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"9300:9300\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">container_name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"elasticsearch\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">environment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> discovery.type=single</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">node</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ES_JAVA_OPTS=\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">Xms2G </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">Xmx4G\"</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./config/elasticsearch.yml</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/usr/share/elasticsearch/config/elasticsearch.yml</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./data</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/usr/share/elasticsearch/data</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./plugins</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/usr/share/elasticsearch/plugins</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">kibana</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">image</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> kibana</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">7.17.1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">ports</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"5601:5601\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">container_name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"kibana\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">#restart: always</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> elasticsearch</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">volumes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\"> ./kibana/kibana.yml</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">/usr/share/kibana/config/kibana.yml</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>访问9200端口</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230417234012937\" src=\"https://arce.top/arcetop/assets/images/image-20230417234012937-31fff7ef5d8f9cd6d8a02fc65885d77c.png\" width=\"773\" height=\"702\" class=\"img_XhWh\"></p>\n<p>访问5601端口</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230417234048806\" src=\"https://arce.top/arcetop/assets/images/image-20230417234048806-53ec2af9405a829436f3d227a5f2c910.png\" width=\"1078\" height=\"1098\" class=\"img_XhWh\"></p>\n<p>测试功能</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230417234724946\" src=\"https://arce.top/arcetop/assets/images/image-20230417234724946-cebe10807662059e6851b56f798ff55f.png\" width=\"3521\" height=\"2050\" class=\"img_XhWh\"></p>",
            "url": "https://arce.top/arcetop/blog/Configure-the-Docker-Edition-microservice-environment-for-the-local-VM",
            "title": "本地虚拟机配置微服务环境docker版",
            "summary": "测试",
            "date_modified": "2023-04-17T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "Docker",
                "docker-compose",
                "linux",
                "centos",
                "nacos",
                "gogs",
                "mysql",
                "redis",
                "elasticsearch",
                "rabbitMQ"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards",
            "content_html": "<div class=\"theme-admonition theme-admonition-caution admonition_HIgT alert alert--warning\"><div class=\"admonitionHeading_YiIM\"><span class=\"admonitionIcon_flvz\"><svg viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"></path></svg></span>注意</div><div class=\"admonitionContent_euFF\"><p>本文含双主互从、双主双从方式 配置需要将HOST改成你的主机ip POSSWORD 改成你的数据库密码</p></div></div>\n<p>官网：<a href=\"http://www.docker.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Docker官网</a></p>\n<p>安装手册：<a href=\"https://docs.docker.com/install/linux/docker-ce/centos%EF%BC%88CE-%E7%A4%BE%E5%8C%BA%E7%89%88%EF%BC%89\" target=\"_blank\" rel=\"noopener noreferrer\">docker-ce 社区版</a></p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"1安装需要的软件包\">1、安装需要的软件包<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#1%E5%AE%89%E8%A3%85%E9%9C%80%E8%A6%81%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85\" class=\"hash-link\" aria-label=\"1、安装需要的软件包的直接链接\" title=\"1、安装需要的软件包的直接链接\">​</a></h2>\n<p>yy -utils提供了yy-config-manager相关功能，device-mapper-persistent-data和lvm2是设备映射器驱动程序所需要的。</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">yum install -y yum-utils \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">               device-mapper-persistent-data \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">               lvm2</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"2设置docker下载镜像\">2、设置docker下载镜像<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#2%E8%AE%BE%E7%BD%AEdocker%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F\" class=\"hash-link\" aria-label=\"2、设置docker下载镜像的直接链接\" title=\"2、设置docker下载镜像的直接链接\">​</a></h2>\n<p>推荐阿里云下载地址</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"3更新yum软件包索引\">3、更新yum软件包索引<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#3%E6%9B%B4%E6%96%B0yum%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%B4%A2%E5%BC%95\" class=\"hash-link\" aria-label=\"3、更新yum软件包索引的直接链接\" title=\"3、更新yum软件包索引的直接链接\">​</a></h2>\n<p>我们在更新或配置yum源之后，通常都会使用yum makecache 生成缓存，这个命令是将软件包信息提前在本地缓存一份，用来提高搜索安装软件的速度</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">yum makecache fast</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"4安装docker-ce\">4、安装docker ce<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#4%E5%AE%89%E8%A3%85docker-ce\" class=\"hash-link\" aria-label=\"4、安装docker ce的直接链接\" title=\"4、安装docker ce的直接链接\">​</a></h2>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">yum install -y docker-ce</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"5启动docker\">5、启动docker<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#5%E5%90%AF%E5%8A%A8docker\" class=\"hash-link\" aria-label=\"5、启动docker的直接链接\" title=\"5、启动docker的直接链接\">​</a></h2>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl start docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"6版本验证\">6、版本验证<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#6%E7%89%88%E6%9C%AC%E9%AA%8C%E8%AF%81\" class=\"hash-link\" aria-label=\"6、版本验证的直接链接\" title=\"6、版本验证的直接链接\">​</a></h2>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker version</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"7设置开机启动\">7、设置开机启动<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#7%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8\" class=\"hash-link\" aria-label=\"7、设置开机启动的直接链接\" title=\"7、设置开机启动的直接链接\">​</a></h2>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#查看服务是否自动启动（是：enabled | 否：disabled）</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl list-unit-files|grep docker.service</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#设置开机启动：如不是enabled可以运行如下命令设置自启动</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl enable docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#重新加载服务配置</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl daemon-reload</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#如果希望不进行自启动，运行如下命令设置</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl disable docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#重新加载服务配置</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl daemon-reload</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>卸载</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl stop docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">yum remove -y docker-ce</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">rm -rf /var/lib/docker</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>开关防火墙</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##关闭docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl stop docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##关闭防火墙</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl stop firewalld</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##启动docker</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">systemctl start docker</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"二主二从配置\">二主二从配置<a href=\"https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards#%E4%BA%8C%E4%B8%BB%E4%BA%8C%E4%BB%8E%E9%85%8D%E7%BD%AE\" class=\"hash-link\" aria-label=\"二主二从配置的直接链接\" title=\"二主二从配置的直接链接\">​</a></h2>\n<p>主服务器 arce-mysql-master1 端口 3306</p>\n<p>主服务器 arce-mysql-master2 端口 3307</p>\n<p>从服务器 arce-mysql-slave1 端口 13306</p>\n<p>从服务器 arce-mysql-slave2 端口 13307</p>\n<p>两个主服务器互为主从</p>\n<p>准备主服务器</p>\n<p>创建本机挂载目录</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master1/data</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master1/mysql-files</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master1/cnf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master1/log</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>启动docker 容器</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run  \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">--restart=always \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">--name arce-mysql-master1 \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master1/cnf:/etc/mysql/conf.d \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master1/data:/var/lib/mysql \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master1/log:/var/log/mysql \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master1/mysql-files:/var/lib/mysql-files \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-p 3306:3306 \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-e MYSQL_ROOT_PASSWORD=PASSWORD \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-d mysql</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码�到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>编写配置文件</p>\n<div class=\"language-she codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-she codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">vim /usr/local/docker/arce-mysql-master1/cnf/my.cnf</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-javascript codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-javascript codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#</span><span class=\"token maybe-class-name\">Apply</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token plain\"> config only on the master</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">3306</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">3306</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">mysqld</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># bind</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">address </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0.0</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">.0</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">.0</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># port </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">3306</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">max_connections</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">10000</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">server </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">collation</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">server </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4_unicode_ci</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 设置时区和字符集</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># </span><span class=\"token keyword module\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">time</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">zone</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'+8:00'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">client</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">handshake</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">FALSE</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">init_connect</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gtid</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">mode</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">ON</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">enforce</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">gtid</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">consistency </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">ON</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>进入容器bash</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker exec -it arce-mysql-master1 bash</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>测试远程连接</p>\n<p>进入mysql</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mysql -uroot -pPASSWORD</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>将root用户从只能localhost登录改为 % 支持远程</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">update user set host='%' where user='root';</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">FLUSH PRIVILEGES;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>更改密码插件</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##如果plugin 的加密方式为caching_sha2_password，表示需要更改</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##更改root用户加密方式</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password by 'PASSWORD';</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'PASSWORD';</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">FLUSH PRIVILEGES;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>查看权限信息</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">use mysql;</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">select host, user, authentication_string, plugin from user;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408094519538\" src=\"https://arce.top/arcetop/assets/images/image-20230408094519538-1c26b4fa2602ac0bdd2d0753c15850f5.png\" width=\"1464\" height=\"224\" class=\"img_XhWh\"></p>\n<p>准备主服务器2</p>\n<p>创建本机挂载目录</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master2/data</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master2/mysql-files</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master2/cnf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-master2/log</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>启动docker 容器</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run  \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">--restart=always \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">--name arce-mysql-master2 \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master2/cnf:/etc/mysql/conf.d \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master2/data:/var/lib/mysql \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master2/log:/var/log/mysql \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-master2/mysql-files:/var/lib/mysql-files \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-p 3307:3306 \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-e MYSQL_ROOT_PASSWORD=PASSWORD \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-d mysql</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>编写配置文件</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">vim /usr/local/docker/arce-mysql-master2/cnf/my.cnf</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#Apply this config only on the master.</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[client]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysql]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysqld]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#skip-grant-tables</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 服务器唯一id，默认值1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">server-id=2000</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置日志格式，默认值ROW</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_format=STATEMENT</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 二进制日志名，默认binlog</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## log-bin=binlog</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置需要复制的数据库，默认复制全部数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog-do-db=mytestdb</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置不需要复制的数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog-ignore-db=mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog-ignore-db=infomation_schema</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># bind-address = 0.0.0.0</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">max_connections=10000</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character-set-server = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">collation-server = utf8mb4_unicode_ci</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 设置时区和字符集</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-time-zone='+8:00'</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character-set-client-handshake=FALSE</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">init_connect='SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci'</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gtid-mode=ON</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">enforce-gtid-consistency = ON</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>进入容器bash</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker exec -it arce-mysql-master2 bash</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>设置双主互从</p>\n<p>主1</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#Apply this config only on the master.</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[client]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysql]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># bind-address = 0.0.0.0</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysqld]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#skip-grant-tables</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 服务器唯一id，默认值1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">server-id=1000</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置日志格式，默认值ROW</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_format=STATEMENT</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#开启及设置二进制日志文件名称</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">log_bin = mysql-bin</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_format = MIXED</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sync_binlog = 1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#二进制日志自动删除/过期的天数。默认值为0，表示不自动删除。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">expire_logs_days =7</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置需要复制的数据库，默认复制全部数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog-do-db=mytestdb</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 不需要同步的数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog-ignore-db = mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_ignore_db = information_schema</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_ignore_db = performation_schema</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_ignore_db = sys</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">max_connections=10000</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character-set-server = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">collation-server = utf8mb4_unicode_ci</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 设置时区和字符集</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-time-zone='+8:00'</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character-set-client-handshake=FALSE</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">init_connect='SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci'</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gtid-mode=ON</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">enforce-gtid-consistency = ON</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>主2</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#Apply this config only on the master.</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[client]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysql]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-character-set = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># bind-address = 0.0.0.0</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># port = 3306</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">[mysqld]</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#skip-grant-tables</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 服务器唯一id，默认值1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">server-id=2000</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置日志格式，默认值ROW</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_format=STATEMENT</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#开启及设置二进制日志文件名称</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">log_bin = mysql-bin</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_format = MIXED</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sync_binlog = 1</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#二进制日志自动删除/过期的天数。默认值为0，表示不自动删除。</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">expire_logs_days =7</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置需要复制的数据库，默认复制全部数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog-do-db=mytestdb</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置不需要复制的数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog-ignore-db = mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_ignore_db = information_schema</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_ignore_db = performation_schema</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_ignore_db = sys</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">max_connections=10000</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character-set-server = utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">collation-server = utf8mb4_unicode_ci</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 设置时区和字符集</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">default-time-zone='+8:00'</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character-set-client-handshake=FALSE</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">init_connect='SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci'</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gtid-mode=ON</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">enforce-gtid-consistency = ON</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>重启两个主服务器</p>\n<p>进行主1 bash</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker exec -it arce-mysql-master1 bash</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mysql -uroot -p</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>创建slave用户并授权,两个master节点都创建</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#创建用户</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password by 'PASSWORD';</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'PASSWORD';</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">CREATE USER 'slave'@'%' IDENTIFIED WITH mysql_native_password BY 'PASSWORD';</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#分配权限</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">GRANT REPLICATION SLAVE ON *.* TO 'slave'@'%';</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#刷新权限</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">flush privileges;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>查看master状态：<code>SHOW MASTER STATUS</code>，记录二进制文件名(mysql-bin.000001)和位置(821)</p>\n<p>master1</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408110257788\" src=\"https://arce.top/arcetop/assets/images/image-20230408110257788-8cd00508a18090a95a4f0628dd856f31.png\" width=\"1599\" height=\"377\" class=\"img_XhWh\"></p>\n<p>master2</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408110622010\" src=\"https://arce.top/arcetop/assets/images/image-20230408110622010-e4339ea918786443c2ea9d49780f484d.png\" width=\"1571\" height=\"376\" class=\"img_XhWh\"></p>\n<p>设置连接</p>\n<p>master1连接master2</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">CHANGE MASTER TO</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_HOST='HOST',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_USER='slave',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_PASSWORD='PASSWORD',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_PORT=3307,</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_LOG_FILE='mysql-bin.000001',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_LOG_POS=821;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408111131360\" src=\"https://arce.top/arcetop/assets/images/image-20230408111131360-c7e6236659c0c1aca2c3ac9fabf9c18c.png\" width=\"616\" height=\"200\" class=\"img_XhWh\"></p>\n<p>master2连接master1</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">CHANGE MASTER TO</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_HOST='HOST',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_USER='slave',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_PASSWORD='PASSWORD',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_PORT=3306,</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_LOG_FILE='mysql-bin.000001',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_LOG_POS=821;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408111116887\" src=\"https://arce.top/arcetop/assets/images/image-20230408111116887-11088276b743afb06a4bbb327f281d64.png\" width=\"628\" height=\"215\" class=\"img_XhWh\"></p>\n<p>启动 slave 进程</p>\n<p>master1</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408111300490\" src=\"https://arce.top/arcetop/assets/images/image-20230408111300490-2268c103967da54879b7930aeb977382.png\" width=\"983\" height=\"1330\" class=\"img_XhWh\"></p>\n<p>master2</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408111346417\" src=\"https://arce.top/arcetop/assets/images/image-20230408111346417-56181d4c45633b6a00f6646f62a8b4e0.png\" width=\"999\" height=\"1208\" class=\"img_XhWh\"></p>\n<p>二主二从，一主一丛</p>\n<p>注意需取消之前的双主互从</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker exec -it arce-mysql-master1 bash</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker exec -it arce-mysql-master2 bash</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mysql -u root -p</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">stop slave;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>slave1</p>\n<p>创建本机挂载目录</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-slave1/data</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-slave1/mysql-files</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-slave1/cnf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">mkdir -p /usr/local/docker/arce-mysql-slave1/log</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>启动docker 容器</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker run  \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">--restart=always \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">--name arce-mysql-slave1 \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-slave1/cnf:/etc/mysql/conf.d \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-slave1/data:/var/lib/mysql \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-slave1/log:/var/log/mysql \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-v /usr/local/docker/arce-mysql-slave1/mysql-files:/var/lib/mysql-files \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-p 13306:3306 \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-e MYSQL_ROOT_PASSWORD=PASSWORD \\</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">-d mysql</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>编写配置文件</p>\n<div class=\"language-she codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-she codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">vim /usr/local/docker/arce-mysql-slave1/cnf/my.cnf</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-javascript codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-javascript codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#</span><span class=\"token maybe-class-name\">Apply</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token plain\"> config only on the master</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">3306</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">mysql</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">port </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">3306</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\">mysqld</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">#skip</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">grant</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">tables</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 服务器唯一id，默认值</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">server</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">id</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1001</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置日志格式，默认值</span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">ROW</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">binlog_format</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">STATEMENT</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 二进制日志名，默认binlog</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## log</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">bin</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">binlog</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置需要复制的数据库，默认复制全部数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token keyword control-flow\" style=\"color:rgb(0, 0, 255)\">do</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">db</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">mytestdb</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">## 设置不需要复制的数据库</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">ignore</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">db</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">mysql</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">##binlog</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">ignore</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">db</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\">infomation_schema</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># bind</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">address </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0.0</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">.0</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">.0</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># port </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">3306</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">max_connections</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">10000</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">server </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">collation</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">server </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> utf8mb4_unicode_ci</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"># 设置时区和字符集</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">time</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">zone</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'+8:00'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">character</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">set</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">client</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">handshake</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">FALSE</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">init_connect</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">'SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci'</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">gtid</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">mode</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">ON</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">enforce</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">gtid</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">-</span><span class=\"token plain\">consistency </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token constant\" style=\"color:rgb(129, 31, 63)\">ON</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>进入容器bash</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">docker exec -it arce-mysql-slave1 bash</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>salve1 连接 master1</p>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">CHANGE MASTER TO</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_HOST='HOST',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_USER='slave',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_PASSWORD='PASSWORD',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_PORT=3306,</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_LOG_FILE='mysql-bin.000001',</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">MASTER_LOG_POS=821;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"> start slave;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">show slave status\\G;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408220152389\" src=\"https://arce.top/arcetop/assets/images/image-20230408220152389-d0c808d4afc891bb0d6f083600519806.png\" width=\"858\" height=\"847\" class=\"img_XhWh\"></p>\n<p>slave2 重复slave1</p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408220937264\" src=\"https://arce.top/arcetop/assets/images/image-20230408220937264-4eef5b9428d2b63459db9e005c32c953.png\" width=\"819\" height=\"648\" class=\"img_XhWh\"></p>\n<p><img decoding=\"async\" loading=\"lazy\" alt=\"image-20230408221205061\" src=\"https://arce.top/arcetop/assets/images/image-20230408221205061-4bd633d8612b05126e8dd736da534de8.png\" width=\"357\" height=\"117\" class=\"img_XhWh\"></p>",
            "url": "https://arce.top/arcetop/blog/shardingsphere-replication-of-database-and-table-shards",
            "title": "shardingsphere分库分表主从复制",
            "summary": "测试",
            "date_modified": "2023-04-08T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "Java",
                "SpringCloud",
                "ShardingSphere"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/flutter_getx_i18n_fallback_demo",
            "content_html": "<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"动画\" src=\"https://arce.top/arcetop/assets/images/effect-97e77c68a5a7c5f77708be49fb68d13e.gif\" width=\"300\" height=\"620\" class=\"img_XhWh\"></p></div>\n<p>思路：Getx的updateLocale 以及本地缓存</p>\n<p>Locale支持以下两种构造方式</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">languageCountryCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// eg: Locale('en','US')</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">fromSubtags</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">scriptCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> languageScriptCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">countryCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> languageCountryCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\">   </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// eg:  Locale.fromSubtags('zh','Hans','CN')  countryCode 可空</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"theme-admonition theme-admonition-caution admonition_HIgT alert alert--warning\"><div class=\"admonitionHeading_YiIM\"><span class=\"admonitionIcon_flvz\"><svg viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"></path></svg></span>注意</div><div class=\"admonitionContent_euFF\"><p>案例代码不完全，但不影响你的观看是尝试</p></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"原理分析\">原理分析<a href=\"https://arce.top/arcetop/blog/flutter_getx_i18n_fallback_demo#%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90\" class=\"hash-link\" aria-label=\"原理分析的直接链接\" title=\"原理分析的直接链接\">​</a></h2>\n<p>跟随系统语言 缓存中存一个flag    在多语言初始化的时候从缓存中获取flag值</p>\n<ul>\n<li>if flag = true<!-- -->\n<ul>\n<li>使用 Getx 的 deviceLocale 属性值获取到设备的 Locale</li>\n</ul>\n</li>\n<li>else<!-- -->\n<ul>\n<li>获取缓存中的 languageCode , languageScriptCode , languageCountryCode 并构造Locale</li>\n<li>这里可能会有人直接存在一个key里  但是我没办法分辨 有的时候是 zh_Hans 的情况 有的是 zh_Hans_CN  也有 en_Us 或者  en</li>\n</ul>\n</li>\n</ul>\n<p>使用 Getx 的 updateLocale(Locale) 进行更换</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"案例代码\">案例代码<a href=\"https://arce.top/arcetop/blog/flutter_getx_i18n_fallback_demo#%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81\" class=\"hash-link\" aria-label=\"案例代码��的直接链接\" title=\"案例代码的直接链接\">​</a></h2>\n<p>核心代码  TranslationService</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationService</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">extends</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">GetxService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationService</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token plain\"> to </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">find</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 当前系统语言</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// static Locale? get locale =&gt; Get.deviceLocale;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> translations </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationLanguages</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// //如果找不到对应字典，默认值</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> fallbackLocale </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'en'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'US'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Future</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">TranslationService</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">init</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    locale </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationStore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">initialLocale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setLocale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token plain\"> locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">await</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationStore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setLocale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">updateLocale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>核心代码 TranslationStore 初始化：</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token metadata function\" style=\"color:rgb(0, 0, 255)\">@override</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">onInit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">super</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">onInit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 是否选择跟随系统</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    bool followSystem </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getBool</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_LANGUAGE_FOLLOW_SYSTEM</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Locale 参数</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> languageCode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_LANGUAGE_CODE</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> languageCountryCode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_LANGUAGE_COUNTRY_CODE</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> languageScriptCode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_LANGUAGE_SCRIPT_CODE</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"是否跟随系统 </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression\">followSystem</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"Getx中的locale: </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token string-literal interpolation expression\">locale</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">    手机系统语言 </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token string-literal interpolation expression\">deviceLocale</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'缓存： </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression\">languageCode</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\"> | </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression\">languageCountryCode</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\"> | </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression\">languageScriptCode</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">followSystem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        initialLocale </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">deviceLocale </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'en_US'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">languageScriptCode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">''</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            initialLocale </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">languageCountryCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">languageCountryCode</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">''</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            initialLocale </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">fromSubtags</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">scriptCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> languageScriptCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            initialLocale </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">fromSubtags</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">languageCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">scriptCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> languageScriptCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">countryCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> languageCountryCode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"当前初始化语言 </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression\">initialLocale</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>需要自己写一个多语言键值列表 TranslationLanguages 继承 flutter的 Translations</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationLanguages</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">extends</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Translations</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">//  字典列表</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token metadata function\" style=\"color:rgb(0, 0, 255)\">@override</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token plain\"> keys </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'en_US'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> en_US</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'zh_Hans'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> zh_Hans</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'zh_HK'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> zh_HK</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>语言映射Map对象我选择根据语言的不同分不同文件</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// en_US.dart</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Map</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token generics\"> </span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> en_US </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'title'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'This is Title!'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'login'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">'logged in as @name with email @email'</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>GetMaterialApp</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">GetMaterialApp</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    title</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"Material App\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// ... 其他配置省略</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">locale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">git</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    fallbackLocale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">fallbackLocale</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    translations</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TranslationService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">translations</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// ...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>总结：看了一些其他的实现方法 比如 Provider + 缓存 + i18n插件 ，也看了以下<a href=\"https://flutter.cn/docs/development/accessibility-and-localization/internationalization#setting-up\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档</a>中的 flutter_localizations 以及一些开源项目的多语言  几乎没看见有做跟随系统语言来切换的方案，抛砖引玉</p>",
            "url": "https://arce.top/arcetop/blog/flutter_getx_i18n_fallback_demo",
            "title": "flutter getx 多语言 含跟随系统以及fallback",
            "summary": "flutter getx 多语言 含跟随系统以及fallback",
            "date_modified": "2023-04-02T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "Flutter",
                "Dart",
                "I18N",
                "Getx"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/flutter_getx_theme_demo",
            "content_html": "<div style=\"text-align:center\"><p><img decoding=\"async\" loading=\"lazy\" alt=\"flutter_theme_getx\" src=\"https://arce.top/arcetop/assets/images/flutter_theme_getx-53ac526b25a4b4155dc25556668f1b08.gif#pic_center\" width=\"300\" height=\"621\" class=\"img_XhWh\"></p></div>\n<p>思路：使用Getx的 changeThemeMode /  forceAppUpdate  和 缓存</p>\n<div class=\"theme-admonition theme-admonition-caution admonition_HIgT alert alert--warning\"><div class=\"admonitionHeading_YiIM\"><span class=\"admonitionIcon_flvz\"><svg viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"></path></svg></span>注意</div><div class=\"admonitionContent_euFF\"><p>界面代码参考其他博客和项目</p><p><a href=\"https://gitee.com/sunyongsheng/Allpass?_from=gitee_search\" target=\"_blank\" rel=\"noopener noreferrer\">Allpass: Allpass是一款简洁的私密信息管理工具，包括密码管理与卡片信息管理，支持指纹解锁软件、csv导入导出、从Chrome中导入、从剪贴板中导入、文件夹与标签功能、收藏与备注功能、密码生成器、WebDAV同步等功能，采用Flutter构建 (gitee.com)</a></p><p><a href=\"https://juejin.cn/post/6861889467188412423\" target=\"_blank\" rel=\"noopener noreferrer\">Flutter主题适配与自动切换暗色模式 - 掘金 (juejin.cn)</a></p><p><a href=\"https://www.jianshu.com/p/5b750b05b441\" target=\"_blank\" rel=\"noopener noreferrer\">Flutter 多语言&amp;多主题实现 - 简书 (jianshu.com)</a></p></div></div>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"原理分析\">原理分析<a href=\"https://arce.top/arcetop/blog/flutter_getx_theme_demo#%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90\" class=\"hash-link\" aria-label=\"原理分析的直接链接\" title=\"原理分析的直接链接\">​</a></h2>\n<p>获取缓存中的 主题模式STORAGE_THEME_MODE  主题色 STORAGE_THEME_COLOR 在 ThemeStore的初始化进行赋值 然后在 ThemeService 初始化的时候去转化再赋值  当然也可以减少ThemeService 层的操作 直接从ThemeStore 层进行</p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"案例代码\">案例代码<a href=\"https://arce.top/arcetop/blog/flutter_getx_theme_demo#%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81\" class=\"hash-link\" aria-label=\"案例代码的直接链接\" title=\"案例代码的直接链接\">​</a></h2>\n<p>GetMaterialApp</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">GetMaterialApp</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    title</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"Arce App\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// ... 其它配置</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    theme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">lightTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    darkTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">darkTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    themeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">themeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// ...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>核心代码文件 ThemeStore</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeStore</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">extends</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">GetxController</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeStore</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token plain\"> to </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">find</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> _themeMode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">light</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">obs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> _primaryColor </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">blue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">obs</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token metadata function\" style=\"color:rgb(0, 0, 255)\">@override</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">onInit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">super</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">onInit</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    _themeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">value </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeModes</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">tryParse</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_THEME_MODE</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">light</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    _primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">value </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">tryParse</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_THEME_COLOR</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">blue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"初始化主题和颜色</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token string-literal interpolation expression\">to</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token string-literal interpolation expression function\" style=\"color:rgb(0, 0, 255)\">getString</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal interpolation expression\">STORAGE_THEME_MODE</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\"> , </span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">${</span><span class=\"token string-literal interpolation expression class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token string-literal interpolation expression\">to</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token string-literal interpolation expression function\" style=\"color:rgb(0, 0, 255)\">getString</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal interpolation expression\">STORAGE_THEME_COLOR</span><span class=\"token string-literal interpolation expression punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token string-literal interpolation punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> _themeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getPrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> _primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 获取token</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Future</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token plain\"> value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">await</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_THEME_MODE</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"_themeMode \"</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">toString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    _themeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">value </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Future</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setPrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token plain\"> value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">await</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">StorageService</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">STORAGE_THEME_COLOR</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"_primaryColor \"</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">toString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    _primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">value </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> value</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>核心代码文件 ThemeService</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeService</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">extends</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">GetxService</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeService</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">get</span><span class=\"token plain\"> to </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">find</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Future</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics class-name\" style=\"color:rgb(38, 127, 153)\">ThemeService</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">init</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    _allTheme </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ArceAllTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    primaryColor </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeStore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getPrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    lightTheme </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_convertTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    darkTheme </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_convertTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    themeMode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeStore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">getThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token plain\"> themeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 浅色 / 深色 / 跟随系统</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeData</span><span class=\"token plain\"> lightTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 浅色模式下的主题</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeData</span><span class=\"token plain\"> darkTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 暗色模式下的主题</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ArceAllTheme</span><span class=\"token plain\"> _allTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"> </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 主题模式</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token plain\"> primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/// 特殊的背景颜色</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/// 少部分页面背景颜色为浅白色</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Color</span><span class=\"token plain\"> specialBackgroundColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  late </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Color</span><span class=\"token plain\"> offstageColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Future</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">changeThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token plain\"> targetMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Brightness</span><span class=\"token plain\"> platformBrightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">await</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeStore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">targetMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    themeMode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> targetMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setExtraColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">platformBrightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Future</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token generics keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token generics punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">changePrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token plain\"> color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Brightness</span><span class=\"token plain\"> platformBrightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">async</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    primaryColor </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">await</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeStore</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">to</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setPrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    lightTheme </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_convertTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token boolean\">false</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    darkTheme </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_convertTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token boolean\">true</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setExtraColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">platformBrightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeData</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_convertTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token plain\"> color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> bool dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">switch</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">case</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">blue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> _allTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">blueTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">default</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> _allTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">blueTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">setExtraColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Brightness</span><span class=\"token plain\"> platformBrightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">themeMode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">system</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorAuto</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">platformBrightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">themeMode </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorDarkMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorLightMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// notifyListeners();</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// Get.changeTheme( lightTheme);</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">print</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"主题为修改 \"</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">+</span><span class=\"token plain\"> themeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">toString</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// (()async{Get.changeThemeMode(themeMode);})();  // 好像有异步问题 数据更新了，但是ui层未更新</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">// 强制build</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Get</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">forceAppUpdate</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorLightMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    specialBackgroundColor </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">fromRGBO</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">245</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">246</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">250</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    offstageColor </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">black87</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorDarkMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    specialBackgroundColor </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">black</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    offstageColor </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">grey</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">600</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">!</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorAuto</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Brightness</span><span class=\"token plain\"> platformBrightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">platformBrightness </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Brightness</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorDarkMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">_setExtraColorLightMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>ArceAllTheme文件存放中 主题数据</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/// 主题</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ArceAllTheme</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/// ... 其他主题</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\">/// 默认主题</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeData</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">defaultTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\">required </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">MaterialColor</span><span class=\"token plain\"> mainColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> mainColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          primarySwatch</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> mainColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          floatingActionButtonTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">FloatingActionButtonThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            foregroundColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">white</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          appBarTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">AppBarTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            systemOverlayStyle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SystemUiOverlayStyle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            iconTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">IconThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">black</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            elevation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">white</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            titleTextStyle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TextStyle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">black</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          bottomNavigationBarTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BottomNavigationBarThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            elevation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            selectedItemColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> mainColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            backgroundColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">white</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            unselectedItemColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">grey</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          scaffoldBackgroundColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">white</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          buttonTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ButtonThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            shape</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RoundedRectangleBorder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              borderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          textButtonTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TextButtonThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            style</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ButtonStyle</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              foregroundColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">MaterialStateProperty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">black</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              backgroundColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">MaterialStateProperty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">transparent</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              alignment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Alignment</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">center</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              shape</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">MaterialStateProperty</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RoundedRectangleBorder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                  borderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          indicatorColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> mainColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          textSelectionTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">TextSelectionThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">cursorColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> mainColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          cardTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">CardTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">white</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            shape</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RoundedRectangleBorder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              borderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            elevation</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            clipBehavior</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Clip</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">antiAlias</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          inputDecorationTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">InputDecorationTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            fillColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">fromRGBO</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">245</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">246</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">250</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">1</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            border</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">OutlineInputBorder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              borderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              borderSide</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderSide</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">none</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          dialogTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">DialogTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            shape</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RoundedRectangleBorder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              borderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          bottomSheetTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BottomSheetThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            shape</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RoundedRectangleBorder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              borderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">only</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">                  topLeft</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> topRight</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          popupMenuTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PopupMenuThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            shape</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">RoundedRectangleBorder</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">              borderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">BorderRadius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">all</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Radius</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">circular</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8.0</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">            </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          listTileTheme</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ListTileThemeData</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">minLeadingWidth</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">32</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>主题模式 ThemeMode相关</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeModes</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">tryParse</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">name </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">light</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">light</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">name </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">else</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">name </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">system</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">system</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeModeItem</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token plain\"> mode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> desc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeModeItem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">mode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">desc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> themeModes </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeModeItem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">system</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"跟随系统\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeModeItem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">light</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"浅色\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeModeItem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ThemeMode</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">dark</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"深色\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>主题色  PrimaryColor 相关</p>\n<div class=\"language-dart codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-dart codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">enum</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"> blue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> blueGrey </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColors</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">tryParse</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">?</span><span class=\"token plain\"> name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">for</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> color </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">in</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">values</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">if</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">name </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">==</span><span class=\"token plain\"> name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">return</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">null</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColorItem</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token plain\"> primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token plain\"> desc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">final</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Color</span><span class=\"token plain\"> color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColorItem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">primaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">desc</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">this</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">color</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">var</span><span class=\"token plain\"> primaryColors </span><span class=\"token operator\" style=\"color:rgb(0, 0, 0)\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColorItem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">blue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"蓝色\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">blue</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">const</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColorItem</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">PrimaryColor</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">blueGrey</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token string-literal string\" style=\"color:rgb(163, 21, 21)\">\"蓝灰\"</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">Colors</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token plain\">blueGrey</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>总结：Get中好像只有 changeThemeMode 的方法 所以有一个不好的地方是切换主题颜色后需要调用 Get.forceAppUpdate() 方法才有效果，如果不希望用户频繁的调用 forceAppUpdate方法，可以加一层防抖代码，也可以在setThemeMode方法中用changeThemeMode方法 ，在setPrimaryColor方法中调用forceAppUpdate方法</p>",
            "url": "https://arce.top/arcetop/blog/flutter_getx_theme_demo",
            "title": "flutter getx 多主题 包含深色模式",
            "summary": "flutter getx 多主题 包含深色模式",
            "date_modified": "2023-04-02T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "Dart",
                "Flutter",
                "Getx",
                "Theme"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/linux-amd-stable-diffusion-novel-ai",
            "content_html": "<p><img decoding=\"async\" loading=\"lazy\" alt=\"linux install\" src=\"https://arce.top/arcetop/assets/images/image-20230319004743806-6d12868a6bfeb486684c626e22b80965.png\" width=\"1280\" height=\"768\" class=\"img_XhWh\"></p>\n<h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"更新-apt\">更新 apt<a href=\"https://arce.top/arcetop/blog/linux-amd-stable-diffusion-novel-ai#%E6%9B%B4%E6%96%B0-apt\" class=\"hash-link\" aria-label=\"更新 apt的直接链接\" title=\"更新 apt的直接链接\">​</a></h2>\n<div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get update</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get upgrade</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get install wget gnupg2 git</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"theme-admonition theme-admonition-caution admonition_HIgT alert alert--warning\"><div class=\"admonitionHeading_YiIM\"><span class=\"admonitionIcon_flvz\"><svg viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"></path></svg></span>注意 本文无有营养的内容，请退出，抱歉 :::</div><div class=\"admonitionContent_euFF\"><h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"安装-amd-gpu-驱动\">安装 AMD GPU 驱动<a href=\"https://arce.top/arcetop/blog/linux-amd-stable-diffusion-novel-ai#%E5%AE%89%E8%A3%85-amd-gpu-%E9%A9%B1%E5%8A%A8\" class=\"hash-link\" aria-label=\"安装 AMD GPU 驱动的直接链接\" title=\"安装 AMD GPU 驱动的直接链接\">​</a></h2><div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo usermod -a -G video $LOGNAME</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">echo 'ADD_EXTRA_GROUPS=1' | sudo tee -a /etc/adduser.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">echo 'EXTRA_GROUPS=video' | sudo tee -a /etc/adduser.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">echo 'EXTRA_GROUPS=render' | sudo tee -a /etc/adduser.conf</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">wget https://repo.radeon.com/amdgpu-install/22.20/ubuntu/focal/amdgpu-install_22.20.50200-1_all.deb</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get install ./amdgpu-install_22.20.50200-1_all.deb</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><h2 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"更改-amd-rocm-源\">更改 AMD Rocm 源<a href=\"https://arce.top/arcetop/blog/linux-amd-stable-diffusion-novel-ai#%E6%9B%B4%E6%94%B9-amd-rocm-%E6%BA%90\" class=\"hash-link\" aria-label=\"更改 AMD Rocm 源的直接链接\" title=\"更改 AMD Rocm 源的直接链接\">​</a></h2><div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo amdgpu-install --usecase=hiplibsdk,rocm --no-dkms</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo usermod -a -G video $LOGNAME</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo usermod -a -G render $LOGNAME</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">echo 'export PATH=$PATH:/opt/rocm/bin:/opt/rocm/profiler/bin:/opt/rocm/opencl/bin' | sudo tee -a /etc/profile.d/rocm.sh</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">rocm-smi</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo /opt/rocm/bin/rocminfo</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo /opt/rocm/opencl/bin/clinfo</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div><p>根据显示的信息安装 (gfx1030)</p><div class=\"language-shell codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-shell codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">sudo apt-get install miopenkernels-gfx1030-36kdb</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div></div></div>",
            "url": "https://arce.top/arcetop/blog/linux-amd-stable-diffusion-novel-ai",
            "title": "使用A卡在Linuxx虚拟机玩StableDiffusion",
            "summary": "使用A卡在Linuxx虚拟机玩Stable Diffusion AI 绘画",
            "date_modified": "2023-03-19T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "AI",
                "Stable Diffusion",
                "AMD",
                "Linux"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/spring-cloud-config-center",
            "content_html": "<p><a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/\" target=\"_blank\" rel=\"noopener noreferrer\">Config 配置中心官方文档</a></p>\n<h3 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"部署配置中心服务端\">部署配置中心服务端<a href=\"https://arce.top/arcetop/blog/spring-cloud-config-center#%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E6%9C%8D%E5%8A%A1%E7%AB%AF\" class=\"hash-link\" aria-label=\"部署配置中心服务端的直接链接\" title=\"部署配置中心服务端的直接链接\">​</a></h3>\n<p>创建一个config微服务\n添加依赖</p>\n<div class=\"language-xml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependencies</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">org.springframework.cloud</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">spring-cloud-config-server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">org.springframework.cloud</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">spring-cloud-starter-netflix-eureka-client</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependencies</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>添加配置</p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">server</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">port</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8700</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">spring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">application</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"ConfigServer\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">cloud</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">config</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">server</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token key atrule\">git</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 这里填写的是本地仓库地址，远程仓库直接填写远程仓库地址 http://git...</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">uri</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> file</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//$</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\">user.home</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\">/Desktop/Mi/config</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">-</span><span class=\"token plain\">repo</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 默认分支设定为你自己本地或是远程分支的名称</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">default-label</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> master</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">service-url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8801/eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8802/eureka</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>编写启动类</p>\n<div class=\"language-java codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-java codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@EnableConfigServer</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token annotation punctuation\" style=\"color:rgb(4, 81, 165)\">@SpringBootApplication</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ConfigApplication</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">static</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">main</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">String</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">[</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">]</span><span class=\"token plain\"> args</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">{</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">SpringApplication</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token function\" style=\"color:rgb(0, 0, 255)\">run</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">(</span><span class=\"token class-name\" style=\"color:rgb(38, 127, 153)\">ConfigApplication</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">.</span><span class=\"token keyword\" style=\"color:rgb(0, 0, 255)\">class</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">args</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">)</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">}</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>在远端或者本地创建一个git仓库 编写配置文件进行提交\n注意这里的仓库地址要与<code>spring.cloud.config.server.git.uri</code>一致\n<a href=\"http://localhost:8700/master/bookservice-dev.yml\" target=\"_blank\" rel=\"noopener noreferrer\">访问配置中心master分支的bookservice-dev.yml文件</a>\n<img decoding=\"async\" loading=\"lazy\" alt=\"image.png\" src=\"https://arce.top/arcetop/assets/images/1660729064425-3ec23462-1d7c-4ed7-8f5c-50680b2f7610-9b7334509c11312ac7ee3dee65e9a13f.png\" width=\"675\" height=\"299\" class=\"img_XhWh\"></p>\n<h3 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"配置客户端\">配置客户端<a href=\"https://arce.top/arcetop/blog/spring-cloud-config-center#%E9%85%8D%E7%BD%AE%E5%AE%A2%E6%88%B7%E7%AB%AF\" class=\"hash-link\" aria-label=\"配置客户端的直接链接\" title=\"配置客户端的直接链接\">​</a></h3>\n<p>我们将微服务客户端的配置文件改名为<code>bootstrap.yml</code>这是一个系统级别的参数配置，会在应用级别配置<code>application.yml</code>之前加载，如果保留的话，如果出现相同属性，将会覆盖\n客户端添加依赖</p>\n<div class=\"language-xml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">org.springframework.cloud</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">spring-cloud-starter-config</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">org.springframework.cloud</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">spring-cloud-starter-bootstrap</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>客户端添加配置文件<code>bootstrap.yml</code></p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">cloud</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">config</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 名称，其实就是文件名称</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"bookservice\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 配置服务器的地址</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">uri</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8700</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 环境</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">profile</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> dev</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 分支</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">label</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> master</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>保留的<code>application.xml</code>这个文件没有配置数据源</p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">server</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">port</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8081</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">spring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">application</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"BookService\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 跟上面一样，需要指向Eureka服务端地址，这样才能进行注册 默认端口8761</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">service-url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8801/eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8802/eureka</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>启动微服务客户端\n<img decoding=\"async\" loading=\"lazy\" alt=\"image.png\" src=\"https://arce.top/arcetop/assets/images/1660730235957-546d0e34-f2ea-4910-b1b1-669eeb22a60a-816eba9855bddbe4e20fa4533e9a42b5.png\" width=\"1239\" height=\"108\" class=\"img_XhWh\"></p>",
            "url": "https://arce.top/arcetop/blog/spring-cloud-config-center",
            "title": "Config 配置中心",
            "summary": "测试",
            "date_modified": "2023-03-12T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "SpringCloud",
                "Java"
            ]
        },
        {
            "id": "https://arce.top/arcetop/blog/spring-cloud-eureka",
            "content_html": "<p><a href=\"https://blog.csdn.net/java_xth/article/details/82621776\" target=\"_blank\" rel=\"noopener noreferrer\">Eureka和ZooKeeper的区别</a>\nEureka能够自动注册并发现微服务，然后对服务的状态、信息进行集中管理,保证AP</p>\n<blockquote>\n<p>在分布式领域有一个很著名的CAP定理：C：数据一致性。A：服务可用性。P：分区容错性（服务对网络分区故障的容错性）。</p>\n</blockquote>\n<p>在父工程pom中</p>\n<div class=\"language-xml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">org.springframework.cloud</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">spring-cloud-dependencies</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">2021.0.3</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">version</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">type</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">pom</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">type</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">scope</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">import</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">scope</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>接着我们为新创建的项目(eureka-server)添加依赖：</p>\n<div class=\"language-xml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependencies</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">org.springframework.cloud</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">        </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">spring-cloud-starter-netflix-eureka-server</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependencies</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>eureka-server 配置</p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">server</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">port</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8888</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 开启之前需要修改一下客户端设置（虽然是服务端</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 由于我们是作为服务端角色，所以不需要获取服务端，改为false，默认为true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean important\">false</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 暂时不需要将自己也注册到Eureka</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">register-with-eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean important\">false</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 将eureka服务端指向自己</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">service-url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8888/eureka</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>访问 <a href=\"http://localhost:8888/\" target=\"_blank\" rel=\"noopener noreferrer\">本地Eureka服务</a>\n<img decoding=\"async\" loading=\"lazy\" alt=\"image.png\" src=\"https://arce.top/arcetop/assets/images/1660664719098-e19ae168-a6e4-42f9-9178-e340a761d4a1-e636e922de92945646c5783e402f5796.png\" width=\"2160\" height=\"1219\" class=\"img_XhWh\">\n将微服务都注册进来</p>\n<div class=\"language-xml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-xml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">org.springframework.cloud</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">groupId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\">spring-cloud-starter-netflix-eureka-client</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">artifactId</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&lt;/</span><span class=\"token tag\" style=\"color:rgb(128, 0, 0)\">dependency</span><span class=\"token tag punctuation\" style=\"color:rgb(4, 81, 165)\">&gt;</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 跟上面一样，需要指向Eureka服务端地址，这样才能进行注册 默认端口8761</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">service-url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">          </span><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8888/eureka</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>再次访问 <a href=\"http://localhost:8888/\" target=\"_blank\" rel=\"noopener noreferrer\">本地Eureka服务</a>\n<img decoding=\"async\" loading=\"lazy\" alt=\"image.png\" src=\"https://arce.top/arcetop/assets/images/1660665314235-d6a939b9-24b5-4ce4-9a96-58aff57554ed-edd89a14bbde9ee148189f2782ebed33.png\" width=\"1994\" height=\"220\" class=\"img_XhWh\"></p>\n<h3 class=\"anchor anchorWithHideOnScrollNavbar_hAXi\" id=\"集群\">集群<a href=\"https://arce.top/arcetop/blog/spring-cloud-eureka#%E9%9B%86%E7%BE%A4\" class=\"hash-link\" aria-label=\"集群的直接链接\" title=\"集群的直接链接\">​</a></h3>\n<p>创建两个配置文件\n<code>eureka.instance.hostname</code>使用localhost无效果 需修改hosts文件让该hostname指向127.0.0.1</p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">server</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">port</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8801</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">spring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">application</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"EurekaServer\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">instance</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">hostname</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> eurekaServer01</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 开启之前需要修改一下客户端设置（虽然是服务端</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 由于我们是作为服务端角色，所以不需要获取服务端，改为false，默认为true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean important\">false</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 暂时不需要将自己也注册到Eureka</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># register-with-eureka: false</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 将eureka服务端指向自己</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">service-url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//eurekaServer02</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8802/eureka</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">server</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">port</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token number\" style=\"color:rgb(9, 134, 88)\">8802</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">spring</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">application</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">name</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:rgb(163, 21, 21)\">\"EurekaServer\"</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\"></span><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">instance</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">hostname</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> eurekaServer02</span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 开启之前需要修改一下客户端设置（虽然是服务端</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 由于我们是作为服务端角色，所以不需要获取服务端，改为false，默认为true</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">fetch-registry</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> </span><span class=\"token boolean important\">false</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 暂时不需要将自己也注册到Eureka</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># register-with-eureka: false</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 将eureka服务端指向自己</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">service-url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//eurekaServer01</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8801/eureka</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>在其他微服务中修改配置<code>eureka.client.service-url.defaultZone</code></p>\n<div class=\"language-yaml codeBlockContainer_rNC0 theme-code-block\" style=\"--prism-color:#000000;--prism-background-color:#ffffff\"><div class=\"codeBlockContent_hvki\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_ROI_ thin-scrollbar\" style=\"color:#000000;background-color:#ffffff\"><code class=\"codeBlockLines_H3eT\"><span class=\"token-line\" style=\"color:#000000\"><span class=\"token key atrule\">eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">  </span><span class=\"token key atrule\">client</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color:rgb(0, 128, 0)\"># 跟上面一样，需要指向Eureka服务端地址，这样才能进行注册 默认端口8761</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">    </span><span class=\"token key atrule\">service-url</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#000000\"><span class=\"token plain\">      </span><span class=\"token key atrule\">defaultZone</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\"> http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8801/eureka</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">,</span><span class=\"token plain\">http</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">//localhost</span><span class=\"token punctuation\" style=\"color:rgb(4, 81, 165)\">:</span><span class=\"token plain\">8802/eureka</span><br></span></code></pre><div class=\"buttonGroup_x8KN\"><button type=\"button\" aria-label=\"复制代码到剪贴板\" title=\"复制\" class=\"clean-btn\"><span class=\"copyButtonIcons_Xbct\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_nuQm\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_BEbu\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>效果\neurekaServer01:<a href=\"http://localhost:8801/\" target=\"_blank\" rel=\"noopener noreferrer\">本地Eureka服务1</a>\n<img decoding=\"async\" loading=\"lazy\" alt=\"image.png\" src=\"https://arce.top/arcetop/assets/images/1660669053863-1da01b07-345f-4298-83d8-b87ed881b1b9-2839edebf50526e8edd33e5a6fd3de99.png\" width=\"1566\" height=\"766\" class=\"img_XhWh\">\neurekaServer02: <a href=\"http://localhost:8802/\" target=\"_blank\" rel=\"noopener noreferrer\">本地Eureka服务2</a>\n<img decoding=\"async\" loading=\"lazy\" alt=\"image.png\" src=\"https://arce.top/arcetop/assets/images/1660669038808-c89c7a74-537b-4c1d-9313-ca30f7bbf20b-5139108f66b8e7b9eacceeb166ae1eae.png\" width=\"1552\" height=\"754\" class=\"img_XhWh\"></p>",
            "url": "https://arce.top/arcetop/blog/spring-cloud-eureka",
            "title": "Eureka 注册中心",
            "summary": "注册中心",
            "date_modified": "2023-03-12T00:00:00.000Z",
            "author": {
                "name": "Arce",
                "url": "https://github.com/charles0122"
            },
            "tags": [
                "SpringCloud",
                "Java"
            ]
        }
    ]
}